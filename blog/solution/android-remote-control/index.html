<!DOCTYPE html><html><head><meta charset="utf-8" name="viewport" content="width=device-width,initial-scale=1"><meta name="color-scheme" content="light dark"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-175297541-1"></script><title>Android Remote Control</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="/content/css/styles.css?v=202204171946"><script src="/content/js/header.js?v=202102080708"></script><link rel="alternate" href="/atom.xml" title="Mark Ma's Blog" type="application/atom+xml"><link rel="alternate" href="/rss2.xml" title="Mark Ma's Blog" type="application/rss+xml"></head><body onclick=""><div class="sidebar" id="sidebar" onclick=""><div class="sidebar-item"><h1 style="margin-top:1.6em">Mark Ma&#39;s Blog</h1></div><nav class="sidebar-nav"><a class="sidebar-nav-item" href="/">About</a> <a class="sidebar-nav-item" href="/blog/">Blog</a> <a class="sidebar-nav-item" href="/archive/by-date/">　by Date</a> <a class="sidebar-nav-item" href="/archive/by-category/">　by Category</a> <a class="sidebar-nav-item" href="/archive/by-tag/">　by Tag</a> <a class="sidebar-nav-item" href="/portfolio/">Portfolio</a> <a class="sidebar-nav-item" href="/archive/by-tag/civil-engineering/">　Civil Engineering</a> <a class="sidebar-nav-item" href="/portfolio/graphic-design/">　Graphic Design</a> <a class="sidebar-nav-item" href="/portfolio/video-composition/">　Video Composition</a> <a class="sidebar-nav-item" href="/portfolio/web-design/">　Web Design</a><div class="sidebar-nav-item" onclick="switchColorMode()" style="cursor:pointer">Dark Mode</div></nav><div class="sidebar-item" style="font-size:.85em"><p><a href="/privacy-policy/">Privacy Policy</a></p><p>&copy; 2017-2022. All rights reserved.</p></div></div><div class="markdown-body"><article id="post-md/2021-01-10-android-remote-control" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-inner"><header class="article-header"><h1 class="p-name article-title" itemprop="headline name">Android Remote Control</h1></header><p class="post-meta"><time class="dt-published" datetime="2021-01-10T20:22:00+00:00" itemprop="datePublished">2021-01-10</time></p><div class="e-content article-entry" itemprop="articleBody"><p>A completely open-source solution, partly stimulated by TeamViewer's aggressive approach to classify personal users as commercial users. Btw, Chrome Remote Desktop is recommended for desktop remote control.</p><a id="more"></a><h2 id="repos">repos:</h2><p><a target="_blank" rel="noopener" href="https://github.com/Genymobile/scrcpy/" title="Genymobile/scrcpy: Display and control your Android device">Genymobile/scrcpy: Display and control your Android device</a></p><p>Optional for audio:</p><p><a target="_blank" rel="noopener" href="https://github.com/rom1v/sndcpy" title="rom1v/sndcpy: Android audio forwarding (scrcpy, but for audio)">rom1v/sndcpy: Android audio forwarding (scrcpy, but for audio)</a></p><h2 id="Windows-client">Windows client</h2><p><code>.bat</code> file</p><pre class="language-batch" data-language="batch"><code class="language-batch"><span class="token command"><span class="token keyword">C</span><span class="token label property">:\repo\scrcpy-win64-v1.17\adb.exe</span> disconnect</span>
<span class="token command"><span class="token keyword">C</span><span class="token label property">:\repo\scrcpy-win64-v1.17\adb.exe</span> connect <span class="token number">10</span>.<span class="token number">0</span>.<span class="token number">0</span>.<span class="token number">6</span>:<span class="token number">5555</span></span>
<span class="token command"><span class="token keyword">start</span> C:\repo\scrcpy-win64-v1.<span class="token number">17</span>\scrcpy.exe <span class="token parameter attr-name">--turn-screen-off</span> <span class="token parameter attr-name">--stay-awake</span></span>
<span class="token command"><span class="token keyword">cd</span> C:\repo\sndcpy-with-adb-windows-v1.<span class="token number">0</span>\</span>
<span class="token command"><span class="token keyword">start</span> sndcpy</span></code></pre><p>or hide the consoles with <code>.vbs</code> file</p><pre class="language-vbnet" data-language="vbnet"><code class="language-vbnet"><span class="token keyword">Set</span> objShell <span class="token operator">=</span> CreateObject <span class="token punctuation">(</span><span class="token string">"Wscript.Shell"</span><span class="token punctuation">)</span>
objShell.<span class="token keyword">Run</span> "cmd <span class="token operator">/</span>c C<span class="token punctuation">:</span>\repo\scrcpy<span class="token operator">-</span>win64<span class="token operator">-</span>v1.<span class="token number">17</span>\adb.exe connect <span class="token number">10.0</span><span class="token number">.0</span><span class="token number">.6</span><span class="token punctuation">:</span><span class="token number">5555</span>"<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">false</span>
objShell.<span class="token keyword">Run</span> "cmd <span class="token operator">/</span>c C<span class="token punctuation">:</span>\repo\scrcpy<span class="token operator">-</span>win64<span class="token operator">-</span>v1.<span class="token number">17</span>\scrcpy.exe <span class="token operator">-</span><span class="token operator">-</span>turn<span class="token operator">-</span>screen<span class="token operator">-</span><span class="token keyword">off</span> <span class="token operator">-</span><span class="token operator">-</span>stay<span class="token operator">-</span>awake"<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">false</span>

<span class="token keyword">Set</span> objShell2 <span class="token operator">=</span> CreateObject <span class="token punctuation">(</span><span class="token string">"Wscript.Shell"</span><span class="token punctuation">)</span>
objShell2.CurrentDirectory <span class="token operator">=</span> "C<span class="token punctuation">:</span>\repo\sndcpy<span class="token operator">-</span><span class="token keyword">with</span><span class="token operator">-</span>adb<span class="token operator">-</span>windows<span class="token operator">-</span>v1.<span class="token number">0</span>\"
objShell2.<span class="token keyword">Run</span> <span class="token string">"cmd /c sndcpy"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">false</span></code></pre><p>Note the directory is specified for sndcpy due to its implementation requirements.</p><p>VLC is required to play the sound on client. To suppress the 'Enter' input requirement, comment out the following line in <code>sndcpy.bat</code> if you are using Windows</p><pre class="language-batch" data-language="batch"><code class="language-batch"><span class="token command"><span class="token keyword">pause</span> >nul</span></code></pre><p>or in <code>sndcpy</code> if you are using Linux or alike.</p><pre class="language-shell" data-language="shell"><code class="language-shell"><span class="token builtin class-name">read</span> dummy</code></pre><h2 id="Optional-Android-adb-tcp-server-auto-start-on-boot">Optional: Android adb tcp server auto start on boot</h2><p>I use Magisk so to simply things I just put the following <code>.sh</code> script to <code>/data/adb/service.d</code>. Any equivalence will do.</p><pre class="language-bash" data-language="bash"><code class="language-bash">setprop service.adb.tcp.port <span class="token number">5555</span>
stop adbd
start adbd</code></pre><p>The port can be customized, but would result some apps to function abnormally, such as Brevent.</p><h2 id="Reference">Reference</h2><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/a/3623727" title="networking - How can I connect to Android with ADB over TCP? - Stack Overflow">networking - How can I connect to Android with ADB over TCP? - Stack Overflow</a></p><p><a target="_blank" rel="noopener" href="https://android.stackexchange.com/a/217254" title="shell - How can I run a script on boot? - Android Enthusiasts Stack Exchange">shell - How can I run a script on boot? - Android Enthusiasts Stack Exchange</a></p></div></div></article></div><div id="privacy-notice"><div id="privacy-notice-content" class="markdown-body"><div><a id="privacy-notice-dismiss" class="btn"><svg width="18" height="18" viewBox="0 0 18 18" style="fill:currentColor;vertical-align:baseline;margin-top:-.3em;margin-bottom:-.3em"><path d="M15 4.41L13.59 3 9 7.59 4.41 3 3 4.41 7.59 9 3 13.59 4.41 15 9 10.41 13.59 15 15 13.59 10.41 9 15 4.41z"/></svg></a></div><div>Hover your mouse or tap on the left edge to navigate.<br>Upon dismissing, you acknowledge that you have read and understand our <a href="/privacy-policy/">Privacy Policy</a>.</div></div></div></body><footer><script src="/content/js/footer.js?v=202102080708"></script></footer></html>