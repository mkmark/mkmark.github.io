<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mark Ma&#39;s Blog</title>
  
  
  <link href="http://www.mkmark.net/atom.xml" rel="self"/>
  
  <link href="http://www.mkmark.net/"/>
  <updated>2021-09-19T02:41:45.788Z</updated>
  <id>http://www.mkmark.net/</id>
  
  <author>
    <name>Mark Ma</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Zhejiang University Network</title>
    <link href="http://www.mkmark.net/blog/misc/zhejiang-university-network/"/>
    <id>http://www.mkmark.net/blog/misc/zhejiang-university-network/</id>
    <published>2021-09-19T02:39:00.000Z</published>
    <updated>2021-09-19T02:41:45.788Z</updated>
    
    <content type="html"><![CDATA[<p>Had a chat with one of the local campus network admin, here is some of what I learned about the Zhejiang University network</p><ul><li>the entire lab building is merely connected with 2 1-Gbps links</li><li>the new campus WIFI is restricted to 30 Mbps as requested by old main campus leader 'to ensure consistency'</li><li>office table network switches are trash with only 100 Mbps link speed</li><li>private router can cause DHCP problems thus DHCP should always be turned off, or they will ban the mac address</li><li>private router is against regulation as security might be breached that some connection can not be traced</li><li>all records are preserved permanently for security purpose</li><li>all connections to campus network can be traced to someone who is responsible<ul><li>common link for sure can be traced to the account that is using it</li><li>direct link (static ip) can be traced to the applicant</li><li>most, if not all, direct link is bound to the device mac address</li></ul></li><li>proxy service is detected using self developed software, through various techniques including using ip range pool</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Had a chat with one of the local campus network admin, here is some of what I learned about the Zhejiang University network&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;</summary>
      
    
    
    
    <category term="Misc" scheme="http://www.mkmark.net/archive/by-category/misc/"/>
    
    
  </entry>
  
  <entry>
    <title>教师节贺词</title>
    <link href="http://www.mkmark.net/blog/misc/%E6%95%99%E5%B8%88%E8%8A%82%E8%B4%BA%E8%AF%8D/"/>
    <id>http://www.mkmark.net/blog/misc/%E6%95%99%E5%B8%88%E8%8A%82%E8%B4%BA%E8%AF%8D/</id>
    <published>2021-09-10T13:25:00.000Z</published>
    <updated>2021-09-19T02:41:45.787Z</updated>
    
    <content type="html"><![CDATA[<p>萧萧竹间雨，</p><p>炎炎漠上风。</p><p>角弓得风劲，</p><p>狩月照海宁。</p><p>结庐傍林泉，</p><p>日暮倚栏杆。</p><p>快意从心起，</p><p>乐趣自无穷。</p><p>并祝所有老师节日快乐</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;萧萧竹间雨，&lt;/p&gt;
&lt;p&gt;炎炎漠上风。&lt;/p&gt;
&lt;p&gt;角弓得风劲，&lt;/p&gt;
&lt;p&gt;狩月照海宁。&lt;/p&gt;
&lt;p&gt;结庐傍林泉，&lt;/p&gt;
&lt;p&gt;日暮倚栏杆。&lt;/p&gt;
&lt;p&gt;快意从心起，&lt;/p&gt;
&lt;p&gt;乐趣自无穷。&lt;/p&gt;
&lt;p&gt;并祝所有老师节日快乐&lt;/p&gt;
</summary>
      
    
    
    
    <category term="Misc" scheme="http://www.mkmark.net/archive/by-category/misc/"/>
    
    
    <category term="诗" scheme="http://www.mkmark.net/archive/by-tag/%E8%AF%97/"/>
    
  </entry>
  
  <entry>
    <title>Project: NewLink Group Carbon Assessment Report 2021</title>
    <link href="http://www.mkmark.net/blog/work/project-newlink-group-carbon-assessment-report-2021/"/>
    <id>http://www.mkmark.net/blog/work/project-newlink-group-carbon-assessment-report-2021/</id>
    <published>2021-09-10T13:23:00.000Z</published>
    <updated>2021-09-19T02:41:45.787Z</updated>
    
    <content type="html"><![CDATA[<p>First time InDesign user.</p><p>40p in 20 hours by InDesign, and a little Illustrator.</p><p>To be uploaded upon releasing.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;First time InDesign user.&lt;/p&gt;
&lt;p&gt;40p in 20 hours by InDesign, and a little Illustrator.&lt;/p&gt;
&lt;p&gt;To be uploaded upon releasing.&lt;/p&gt;
</summary>
      
    
    
    
    <category term="Work" scheme="http://www.mkmark.net/archive/by-category/work/"/>
    
    
    <category term="graphic design" scheme="http://www.mkmark.net/archive/by-tag/graphic-design/"/>
    
  </entry>
  
  <entry>
    <title>Project: Terrain Modelling</title>
    <link href="http://www.mkmark.net/blog/solution/project-terrain-modelling/"/>
    <id>http://www.mkmark.net/blog/solution/project-terrain-modelling/</id>
    <published>2021-09-06T15:58:00.000Z</published>
    <updated>2021-09-19T02:41:45.787Z</updated>
    
    <content type="html"><![CDATA[<p>This is a sub project of the ongoing project: Hengjin Villiage Plan.</p><h1>Terrain Model Report</h1><h2 id="DEM-data-source">DEM data source</h2><h3 id="GoogleEarth-RenderDoc-Blender">GoogleEarth - RenderDoc - Blender</h3><p><a href="https://earth.google.com/web/search/Zhejiang,+Ningbo,+Ninghai+County,+%e6%a8%aa%e9%87%91%e6%9d%91/@29.33703766,121.48147217,179.7368143a,3381.49344812d,35y,-0h,0t,0r/data=CpYBGmwSZgolMHgzNDRkZjNhYzJiYmQ1ODYxOjB4NTllZmE2Yjg5MjhmZDI1NxmTNeohGlU9QCFQ-dfyyl9eQCorWmhlamlhbmcsIE5pbmdibywgTmluZ2hhaSBDb3VudHksIOaoqumHkeadkRgBIAEiJgokCb9pKcQ9ZT1AEeUdNtsSwTxAGf29YLA_al5AIfgcJNhIPF5A">earth.google.com</a><br>not seamless, unable to use</p><h3 id="SketchUp-Digital-Globe">SketchUp - Digital Globe</h3><p>low resolution</p><p><img src="/content/uploads/merged_mesh_contour_500.png" alt="picture 1"></p><h3 id="Dataset-ASTGTMV003-N29E121">Dataset: ASTGTMV003_N29E121</h3><p>DOI 10.5067/ASTER/ASTGTM.003<br><a href="https://search.earthdata.nasa.gov/search/granules/granule-details?p=C1711961296-LPCLOUD&amp;pg%5B0%5D%5Bv%5D=f&amp;pg%5B0%5D%5Bgsk%5D=-start_date&amp;g=G1726749481-LPCLOUD&amp;sp%5B0%5D=121.48139%2C29.25113&amp;tl=1630845114.302!3!!&amp;m=29.207652643607364!120.21240234375001!7!1!0!0%2C2">earthdata</a><br>2000-03-01 00:00:00 - 2013-11-30 23:59:59<br>resolution of 1 arc second (approximately 30 meter horizontal posting at the equator)</p><p><img src="/content/uploads/ASTGTMV003_N29E121_dem_contour_500.png" alt="picture 2"></p><h3 id="Dataset-ALPSRP133840570-RTC-HI-RES">Dataset: ALPSRP133840570-RTC_HI_RES</h3><p><a href="https://search.asf.alaska.edu/#/?zoom=8.543%C2%A2er=121.186,28.158&amp;polygon=POLYGON((121.471%2029.3287,121.4988%2029.3287,121.4988%2029.342,121.471%2029.342,121.471%2029.3287))&amp;resultsLoaded=true&amp;granule=ALPSRP133840570-RTC_LOW_RES&amp;dataset=ALOS&amp;productTypes=RTC_LOW_RES,RTC_HI_RES">alaska.edu</a><br><a href="https://search.earthdata.nasa.gov/search/granules?p=C1206487504-ASF&amp;pg%5B0%5D%5Bv%5D=f&amp;pg%5B0%5D%5Bgsk%5D=-start_date&amp;q=alos%20palsar&amp;sp%5B0%5D=121.48139%2C29.25113&amp;tl=1630845114!3!!">earthdata</a><br>2008-07-29 14:21:47 - 2008-07-29 14:21:55<br>resolution of 12m</p><p><img src="/content/uploads/AP_13384_FBD_F0570_RT1_dem_contour_500.png" alt="picture 3"></p><h3 id="Satalite-TerraSAR-X">Satalite: TerraSAR-X</h3><p><a href="https://tpm-ds.eo.esa.int/smcat/TerraSAR-X/2/10/53/">esa.int</a><br>region not found</p><h2 id="image-data-source">image data source</h2><h3 id="SketchUp-Digital-Globe-2">SketchUp - Digital Globe</h3><p>Photoshop: remove excessive water print, and additional drawing<br>Illustrator: vectorization<br>caffe: scale up resolution</p><h3 id="Satalite-Worldview-3">Satalite: Worldview-3</h3><p><a href="https://earth.esa.int/eogateway/catalog/worldview-3-full-archive-and-tasking?sortby=NEWEST_FIRST">esa.int</a><br>resolution of 0.3m<br>proposal required, need waiting within 14 days<br>owned by digital globe so potentially we may have already get it</p><h3 id="Satalite-高分二号">Satalite: 高分二号</h3><p><a href="https://www.resdc.cn/data.aspx?DATAID=214">resdc.cn</a><br>resolution of 0.8m<br>要钱<br>分辨率不如Worldview-3</p><a id="more"></a><h2 id="Reference">Reference</h2><p>EarthExplorer<br>https://earthexplorer.usgs.gov/</p><p>29.34°N 121.49°E | Zoom Earth<br>https://zoom.earth/#view=29.335552,121.487199,17z</p><p>digital elevation model commercial high resolution - Google Search<br>https://www.google.com.hk/search?q=digital+elevation+model+commercial+high+resolution&amp;newwindow=1&amp;sxsrf=AOaemvJZai9EFtmZY9AR-nwIy6eerUCOSg%3A1630848121593&amp;ei=ecQ0YbG2I9j9-gSl3pfIDA&amp;oq=digital+elevation+model+commercial+high+res&amp;gs_lcp=Cgdnd3Mtd2l6EAMYADIICCEQFhAdEB46BwgAEEcQsAM6BQgAEM0CSgQIQRgAUM8mWJYyYPQ3aAFwAngAgAG9AogBoxSSAQUyLTguMZgBAKABAcgBCMABAQ&amp;sclient=gws-wiz</p><p>Digital elevation model - Wikipedia<br>https://en.wikipedia.org/wiki/Digital_elevation_model</p><p>ALOS dem buy - Google Search<br>https://www.google.com.hk/search?q=ALOS+dem+buy&amp;newwindow=1&amp;biw=1920&amp;bih=880&amp;sxsrf=AOaemvKJqp7hyVluwTrlcuuAfEYPPDBivQ%3A1630848278878&amp;ei=FsU0Yaz9NIbn-gSorLfIDA&amp;oq=ALOS+dem+buy&amp;gs_lcp=Cgdnd3Mtd2l6EAMyBQghEKABMgUIIRCrAjIFCCEQqwIyBQghEKsCOgcIABBHELADOgcIABCwAxBDOgUIABCABDoKCAAQgAQQhwIQFDoFCAAQywFKBAhBGABQqbgBWIy9AWCwvwFoAXACeACAAcgCiAGxB5IBBTItMS4ymAEAoAEByAEJwAEB&amp;sclient=gws-wiz&amp;ved=0ahUKEwis4OCi9-fyAhWGs54KHSjWDckQ4dUDCA8&amp;uact=5</p><p>ALOS Global Digital Surface Model &quot;ALOS World 3D - 30m&quot; (AW3D30)<br>https://www.eorc.jaxa.jp/ALOS/en/aw3d30/index.htm</p><p>Buy AW3D Standard DEMs - Apollo Mapping | The Image Hunters<br>https://apollomapping.com/digital-elevation-models/aw3d-standard-dem</p><p>5m DTM<br>https://shop.geospatial.com/product/07-WDAN-153</p><p>OpenDEM<br>https://www.opendem.info/opendemsearcher.html</p><p>EarthCache - Request thank you — SkyWatch<br>https://www.skywatch.com/earthcache/thank-you?submissionGuid=7761b33c-3c07-4e06-b961-95edb4f5259b</p><p>SkyWatch - Commercial Satellite Imagery Made Accessible<br>https://www.skywatch.com/</p><p>Top 9 free sources of satellite data [2021 update] — SkyWatch<br>https://www.skywatch.com/blog/free-sources-of-satellite-data</p><p>5M DTM download - Google Search<br>https://www.google.com.hk/search?q=5M+DTM+download&amp;newwindow=1&amp;biw=1920&amp;bih=880&amp;sxsrf=AOaemvKK7AMHsdwC2BgbRCg1pGOm5WJzMQ%3A1630848410718&amp;ei=msU0YbGVK4Lf-wSl4ZXIDA&amp;oq=5M+DTM+download&amp;gs_lcp=Cgdnd3Mtd2l6EAM6BggAEBYQHjoFCCEQqwJKBAhBGABQ9PIVWNiKFmDbixZoAHACeAGAAekJiAG8HpIBCzItNC4yLjYtMS4xmAEAoAECoAEBwAEB&amp;sclient=gws-wiz&amp;ved=0ahUKEwixys_h9-fyAhWC754KHaVwBckQ4dUDCA8&amp;uact=5</p><p>DEM, DSM &amp; DTM Differences - A Look at Elevation Models in GIS - GIS Geography<br>https://gisgeography.com/dem-dsm-dtm-differences/</p><p>DEM_淘宝搜索<br>https://s.taobao.com/search?q=DEM&amp;imgfile=&amp;commend=all&amp;ssid=s5-e&amp;search_type=item&amp;sourceId=tb.index&amp;spm=a21bo.21814703.201856-taobao-item.1&amp;ie=utf8&amp;initiative_id=tbindexz_20170306</p><p>landsat、MODIS、哨兵、灯光数据、DEM、遥感卫星数据代下载-淘宝网<br>https://item.taobao.com/item.htm?spm=a230r.1.14.28.40311b14WJhsI2&amp;id=615012912193&amp;ns=1&amp;abbucket=13#detail</p><p>5米DEM高程数据和12、30、90米DEM 全球DEM高程数据全国都有-淘宝网<br>https://item.taobao.com/item.htm?spm=a230r.1.14.51.40311b14WJhsI2&amp;id=636716772167&amp;ns=1&amp;abbucket=13#detail</p><p>landsat、MODIS、哨兵、灯光数据、DEM、遥感卫星数据代下载-淘宝网<br>https://item.taobao.com/item.htm?spm=a230r.1.14.30.40311b14WJhsI2&amp;id=615012912193&amp;ns=1&amp;abbucket=13#detail</p><p>alos dem download - Google Search<br>https://www.google.com.hk/search?q=alos+dem+download&amp;newwindow=1&amp;sxsrf=AOaemvLT4qDheUSzyDfGE_RezS3bzwjhRQ%3A1630849057632&amp;ei=Icg0YYH_JY7S-wSHu6TIDA&amp;oq=alos+dem+down&amp;gs_lcp=Cgdnd3Mtd2l6EAMYADIFCAAQgAQyBggAEBYQHjIGCAAQFhAeMgYIABAWEB46BAgjECc6BQgAEJECOgoILhDHARDRAxBDOgQIABBDOgcILhCxAxBDOgcIABCxAxBDOggIABCABBCxAzoLCC4QgAQQxwEQrwE6BwguEIAEEAo6BwgAEIAEEAo6BQguEIAEOgUIABDLAToKCAAQgAQQhwIQFEoECEEYAFD15gdYi4EIYMKLCGgAcAJ4AYAB6gSIAbsekgEJMi03LjQuMC4xmAEAoAEBwAEB&amp;sclient=gws-wiz</p><p>Downloading 12.5 m ALOS PALSAR High-Resolution DEM - The Geo-ICT Blog<br>https://thegeoict.com/blog/2019/10/28/downloading-12-5-m-alos-palsar-high-resolution-dem/</p><p>ALOS PALSAR - Google Search<br>https://www.google.com.hk/search?q=ALOS+PALSAR&amp;oq=ALOS+PALSAR&amp;aqs=chrome..69i57j69i60l2&amp;sourceid=chrome&amp;ie=UTF-8</p><p>About ALOS - PALSAR<br>https://www.eorc.jaxa.jp/ALOS/en/about/palsar.htm</p><p>ALOS PALSAR – ASF<br>https://asf.alaska.edu/data-sets/sar-data-sets/alos-palsar/</p><p>Get Started – ASF<br>https://asf.alaska.edu/how-to/get-started/#view_sar_data</p><p>ASF Data Search<br>https://search.asf.alaska.edu/#/?polygon=POLYGON((121.471%2029.3287,121.4988%2029.3287,121.4988%2029.342,121.471%2029.342,121.471%2029.3287))&amp;productTypes=GRD_HD&amp;resultsLoaded=true&amp;granule=S1A_IW_GRDH_1SDV_20210829T095437_20210829T095502_039443_04A8E8_FE3A-GRD_HD</p><p>ASF Data Search<br>https://search.asf.alaska.edu/#/?zoom=8.543¢er=121.186,28.158&amp;polygon=POLYGON((121.471%2029.3287,121.4988%2029.3287,121.4988%2029.342,121.471%2029.342,121.471%2029.3287))&amp;resultsLoaded=true&amp;granule=ALPSRP133840570-RTC_LOW_RES&amp;dataset=ALOS&amp;productTypes=RTC_LOW_RES,RTC_HI_RES</p><p>AP_13384_FBD_F0570_RT1.geo.jpg (999×884)<br>https://unzip.asf.alaska.edu/RTC_HI_RES/A3/AP_13384_FBD_F0570_RT1.zip/AP_13384_FBD_F0570_RT1/AP_13384_FBD_F0570_RT1.geo.jpg</p><p>Dataset Homepage<br>https://www.eorc.jaxa.jp/ALOS/en/dataset/dataset_index.htm</p><p>TerraSAR-X ESA archive - Earth Online<br>https://earth.esa.int/eogateway/catalog/terrasar-x-esa-archive</p><p>ESA TPM Catalogue - Search map for collection 'TerraSAR-X'<br>https://tpm-ds.eo.esa.int/smcat/TerraSAR-X/2/10/53/</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;This is a sub project of the ongoing project: Hengjin Villiage Plan.&lt;/p&gt;
&lt;h1&gt;Terrain Model Report&lt;/h1&gt;
&lt;h2 id=&quot;DEM-data-source&quot;&gt;DEM data source&lt;/h2&gt;
&lt;h3 id=&quot;GoogleEarth-RenderDoc-Blender&quot;&gt;GoogleEarth - RenderDoc - Blender&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://earth.google.com/web/search/Zhejiang,+Ningbo,+Ninghai+County,+%e6%a8%aa%e9%87%91%e6%9d%91/@29.33703766,121.48147217,179.7368143a,3381.49344812d,35y,-0h,0t,0r/data=CpYBGmwSZgolMHgzNDRkZjNhYzJiYmQ1ODYxOjB4NTllZmE2Yjg5MjhmZDI1NxmTNeohGlU9QCFQ-dfyyl9eQCorWmhlamlhbmcsIE5pbmdibywgTmluZ2hhaSBDb3VudHksIOaoqumHkeadkRgBIAEiJgokCb9pKcQ9ZT1AEeUdNtsSwTxAGf29YLA_al5AIfgcJNhIPF5A&quot;&gt;earth.google.com&lt;/a&gt;&lt;br&gt;
not seamless, unable to use&lt;/p&gt;
&lt;h3 id=&quot;SketchUp-Digital-Globe&quot;&gt;SketchUp - Digital Globe&lt;/h3&gt;
&lt;p&gt;low resolution&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/content/uploads/merged_mesh_contour_500.png&quot; alt=&quot;picture 1&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Dataset-ASTGTMV003-N29E121&quot;&gt;Dataset: ASTGTMV003_N29E121&lt;/h3&gt;
&lt;p&gt;DOI 10.5067/ASTER/ASTGTM.003&lt;br&gt;
&lt;a href=&quot;https://search.earthdata.nasa.gov/search/granules/granule-details?p=C1711961296-LPCLOUD&amp;amp;pg%5B0%5D%5Bv%5D=f&amp;amp;pg%5B0%5D%5Bgsk%5D=-start_date&amp;amp;g=G1726749481-LPCLOUD&amp;amp;sp%5B0%5D=121.48139%2C29.25113&amp;amp;tl=1630845114.302!3!!&amp;amp;m=29.207652643607364!120.21240234375001!7!1!0!0%2C2&quot;&gt;earthdata&lt;/a&gt;&lt;br&gt;
2000-03-01 00:00:00 - 2013-11-30 23:59:59&lt;br&gt;
resolution of 1 arc second (approximately 30 meter horizontal posting at the equator)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/content/uploads/ASTGTMV003_N29E121_dem_contour_500.png&quot; alt=&quot;picture 2&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Dataset-ALPSRP133840570-RTC-HI-RES&quot;&gt;Dataset: ALPSRP133840570-RTC_HI_RES&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://search.asf.alaska.edu/#/?zoom=8.543%C2%A2er=121.186,28.158&amp;amp;polygon=POLYGON((121.471%2029.3287,121.4988%2029.3287,121.4988%2029.342,121.471%2029.342,121.471%2029.3287))&amp;amp;resultsLoaded=true&amp;amp;granule=ALPSRP133840570-RTC_LOW_RES&amp;amp;dataset=ALOS&amp;amp;productTypes=RTC_LOW_RES,RTC_HI_RES&quot;&gt;alaska.edu&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://search.earthdata.nasa.gov/search/granules?p=C1206487504-ASF&amp;amp;pg%5B0%5D%5Bv%5D=f&amp;amp;pg%5B0%5D%5Bgsk%5D=-start_date&amp;amp;q=alos%20palsar&amp;amp;sp%5B0%5D=121.48139%2C29.25113&amp;amp;tl=1630845114!3!!&quot;&gt;earthdata&lt;/a&gt;&lt;br&gt;
2008-07-29 14:21:47 - 2008-07-29 14:21:55&lt;br&gt;
resolution of 12m&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/content/uploads/AP_13384_FBD_F0570_RT1_dem_contour_500.png&quot; alt=&quot;picture 3&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Satalite-TerraSAR-X&quot;&gt;Satalite: TerraSAR-X&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://tpm-ds.eo.esa.int/smcat/TerraSAR-X/2/10/53/&quot;&gt;esa.int&lt;/a&gt;&lt;br&gt;
region not found&lt;/p&gt;
&lt;h2 id=&quot;image-data-source&quot;&gt;image data source&lt;/h2&gt;
&lt;h3 id=&quot;SketchUp-Digital-Globe-2&quot;&gt;SketchUp - Digital Globe&lt;/h3&gt;
&lt;p&gt;Photoshop: remove excessive water print, and additional drawing&lt;br&gt;
Illustrator: vectorization&lt;br&gt;
caffe: scale up resolution&lt;/p&gt;
&lt;h3 id=&quot;Satalite-Worldview-3&quot;&gt;Satalite: Worldview-3&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://earth.esa.int/eogateway/catalog/worldview-3-full-archive-and-tasking?sortby=NEWEST_FIRST&quot;&gt;esa.int&lt;/a&gt;&lt;br&gt;
resolution of 0.3m&lt;br&gt;
proposal required, need waiting within 14 days&lt;br&gt;
owned by digital globe so potentially we may have already get it&lt;/p&gt;
&lt;h3 id=&quot;Satalite-高分二号&quot;&gt;Satalite: 高分二号&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.resdc.cn/data.aspx?DATAID=214&quot;&gt;resdc.cn&lt;/a&gt;&lt;br&gt;
resolution of 0.8m&lt;br&gt;
要钱&lt;br&gt;
分辨率不如Worldview-3&lt;/p&gt;</summary>
    
    
    
    <category term="Solution" scheme="http://www.mkmark.net/archive/by-category/solution/"/>
    
    
    <category term="Grasshopper" scheme="http://www.mkmark.net/archive/by-tag/grasshopper/"/>
    
    <category term="Python" scheme="http://www.mkmark.net/archive/by-tag/python/"/>
    
    <category term="Rhino" scheme="http://www.mkmark.net/archive/by-tag/rhino/"/>
    
    <category term="SketchUp" scheme="http://www.mkmark.net/archive/by-tag/sketchup/"/>
    
  </entry>
  
  <entry>
    <title>Project: X3-notoriety-hack</title>
    <link href="http://www.mkmark.net/blog/game/project-x3-notoriety-hack/"/>
    <id>http://www.mkmark.net/blog/game/project-x3-notoriety-hack/</id>
    <published>2021-09-03T13:17:00.000Z</published>
    <updated>2021-09-19T02:41:45.786Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/mkmark/X3-notoriety-hack">mkmark/X3-notoriety-hack</a></p><div id="https://raw.githubusercontent.com/mkmark/X3-notoriety-hack/main/README.md"></div><script type="text/javascript">parseMd("https://raw.githubusercontent.com/mkmark/X3-notoriety-hack/main/README.md")</script>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/mkmark/X3-notoriety-hack&quot;&gt;mkmark/X3-notoriety-hack&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;https://raw.githubusercontent.com/mkmark/</summary>
      
    
    
    
    <category term="Game" scheme="http://www.mkmark.net/archive/by-category/game/"/>
    
    
    <category term="X3" scheme="http://www.mkmark.net/archive/by-tag/x3/"/>
    
    <category term="Lua" scheme="http://www.mkmark.net/archive/by-tag/lua/"/>
    
  </entry>
  
  <entry>
    <title>Turing machine on Hilbert&#39;s question on decidability</title>
    <link href="http://www.mkmark.net/blog/learn/turing-machine-on-hilbert-s-question-on-decidability/"/>
    <id>http://www.mkmark.net/blog/learn/turing-machine-on-hilbert-s-question-on-decidability/</id>
    <published>2021-08-19T15:28:00.000Z</published>
    <updated>2021-09-19T02:41:45.786Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://youtu.be/HeQX2HjkcNo?t=1438">Math Has a Fatal Flaw - YouTube</a></p><p>Is it possible to tell beforehand if a program will halt or not on a particular input?</p><h2 id="Turing-s-claim-or-what-Veritasium-claims-to-be-his-claim">Turing's claim (or what Veritasium claims to be his claim)</h2><p>let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span> be any program with its inputs</p><p>assume <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(p, i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span> satisfy the requirement, that it tells beforehand if a program will halt or not on a particular input, such that</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>WILL_HALT</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mi>p</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mtext> will halt</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>WILL_NOT_HALT</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mi>p</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mtext> will not halt</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">h(p, i) = \begin{cases}    \text{WILL\_HALT},          &amp; \text{if } p(i) \text{ will halt}\\    \text{WILL\_NOT\_HALT},     &amp; \text{if } p(i) \text{ will not halt}\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">WILL_HALT</span></span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">WILL_NOT_HALT</span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mord text"><span class="mord"> will halt</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mord text"><span class="mord"> will not halt</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>h</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9578799999999998em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span></span></span></span> be</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>[infinite loop]</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mi>h</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>WILL_HALT</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mi>h</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>WILL_NOT_HALT</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\hat{h}(p, i) = \begin{cases}    \text{[infinite loop]},     &amp; \text{if } h(p, i) = \text{WILL\_HALT}\\    0,                          &amp; \text{if } h(p, i) = \text{WILL\_NOT\_HALT}\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2078799999999998em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">[infinite loop]</span></span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord">WILL_HALT</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord">WILL_NOT_HALT</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>consider <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo separator="true">,</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(\hat{h}, \hat{h})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2078799999999998em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo separator="true">,</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>WILL_HALT</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mtext> will halt</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>WILL_NOT_HALT</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mtext> will not halt</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">h(\hat{h}, \hat{h}) = \begin{cases}    \text{WILL\_HALT},          &amp; \text{if } \hat{h}(\hat{h}) \text{ will halt}\\    \text{WILL\_NOT\_HALT},     &amp; \text{if } \hat{h}(\hat{h}) \text{ will not halt}\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2078799999999998em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">WILL_HALT</span></span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">WILL_NOT_HALT</span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord text"><span class="mord"> will halt</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord text"><span class="mord"> will not halt</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>or equivalently</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo separator="true">,</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>WILL_HALT</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mi>h</mi><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mtext>WILL_NOT_HALT</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>WILL_NOT_HALT</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mi>h</mi><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mtext>WILL_HALT</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">h(\hat{h}, \hat{h}) = \begin{cases}    \text{WILL\_HALT},          &amp; \text{if } h(\hat{h})  = \text{WILL\_NOT\_HALT}\\    \text{WILL\_NOT\_HALT},     &amp; \text{if } h(\hat{h})  = \text{WILL\_HALT}\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2078799999999998em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">WILL_HALT</span></span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">WILL_NOT_HALT</span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord">WILL_NOT_HALT</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord">WILL_HALT</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>The problem is, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\hat{h}(\hat{h})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2078799999999998em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(\hat{h})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2078799999999998em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> does not exist as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>h</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9578799999999998em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">h</span></span></span></span> takes two parameters, and there is no reason to assume <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo separator="true">,</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\hat{h}) = (\hat{h}, \hat{h})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2078799999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2078799999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, leaving us no contradiction in the end.</p><h2 id="The-fix">The fix</h2><p>To construct the paradox, we need to lower the input numbers. Instead of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>h</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9578799999999998em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9578799999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span></span></span></span> we define</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>[infinite loop]</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mi>h</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>WILL_HALT</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mi>h</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>WILL_NOT_HALT</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\tilde{h}(p) =\begin{cases}    \text{[infinite loop]},     &amp; \text{if } h(p, p) = \text{WILL\_HALT}\\    0,                          &amp; \text{if } h(p, p) = \text{WILL\_NOT\_HALT}\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1812999999999998em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">[infinite loop]</span></span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord">WILL_HALT</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord">WILL_NOT_HALT</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>consider</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo separator="true">,</mo><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>WILL_HALT</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo stretchy="false">)</mo><mtext> will halt</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>WILL_NOT_HALT</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo stretchy="false">)</mo><mtext> will not halt</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">h(\tilde{h}, \tilde{h}) =\begin{cases}    \text{WILL\_HALT},          &amp; \text{if } \tilde{h}(\tilde{h}) \text{ will halt}\\    \text{WILL\_NOT\_HALT},     &amp; \text{if } \tilde{h}(\tilde{h}) \text{ will not halt}\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1812999999999998em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">WILL_HALT</span></span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">WILL_NOT_HALT</span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord text"><span class="mord"> will halt</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord text"><span class="mord"> will not halt</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>or equivalently</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo separator="true">,</mo><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>WILL_HALT</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mi>h</mi><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo separator="true">,</mo><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mtext>WILL_NOT_HALT</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>WILL_NOT_HALT</mtext><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if </mtext><mi>h</mi><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo separator="true">,</mo><mover accent="true"><mi>h</mi><mo>~</mo></mover><mo stretchy="false">)</mo><mo>=</mo><mtext>WILL_HALT</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">h(\tilde{h}, \tilde{h}) = \begin{cases}    \text{WILL\_HALT},          &amp; \text{if } h(\tilde{h}, \tilde{h})  = \text{WILL\_NOT\_HALT}\\    \text{WILL\_NOT\_HALT},     &amp; \text{if } h(\tilde{h}, \tilde{h})  = \text{WILL\_HALT}\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1812999999999998em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">WILL_HALT</span></span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">WILL_NOT_HALT</span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord">WILL_NOT_HALT</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if </span></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9312999999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.61344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord">WILL_HALT</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h2 id="Philosophy-physics-and-other-thoughts">Philosophy, physics, and other thoughts</h2><p>Until I figure the fix out I thought Veritasium is making fake assertions and baiting, turned out he's just been careless, and a paradox does exist.</p><p>The logic behind the problem is that, if there exists a program that can tell beforehand whether any problem has a solution, it cannot tell beforehand whether itself has a solution, thus vetoes its own existence.</p><p>An analogy would be, if a predictor exists, and we do adversely to whatever it predicts, then its prediction is wrong, and we conclude the predictor does not exist.</p><p>Now in terms of predictor people's been creative that in terms of whether things happen at a given future time, it may provide a possibility instead of a definite binary happens or not. The result does not collapse until the given future time, and the behavior of observation does have an influence over the outcome since we can now alternate the predicted future (in forms of possibility). This possibility model solves all the paradox mentioned above.</p><p>Back port the possibility model into the problem, there might be a program that can tell beforehand the possibility of whether any program has a solution (with further limits on observer) which is useless though.</p><p>The conclusion, however, does not necessarily escalate to 'whether all problems has a solution' since a problem does not necessarily equal a turing machine program. It does, imho, might escalte to 'whether all problems has a definite solution', as is in coherence with quantum physics.</p><p>Though I wonder whether mathematicians are satisfied with such conclusion like 'Goldbach conjecture' has a 99.9999... possibility to be true.</p><p>On the other hand, an interesting research direction is to prove that 'Goldbach conjecture' is impossible to prove.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://youtu.be/HeQX2HjkcNo?t=1438&quot;&gt;Math Has a Fatal Flaw - YouTube&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Is it possible to tell beforehand if a program w</summary>
      
    
    
    
    <category term="Learn" scheme="http://www.mkmark.net/archive/by-category/learn/"/>
    
    
    <category term="mathematics" scheme="http://www.mkmark.net/archive/by-tag/mathematics/"/>
    
  </entry>
  
  <entry>
    <title>骂</title>
    <link href="http://www.mkmark.net/blog/misc/%E9%AA%82/"/>
    <id>http://www.mkmark.net/blog/misc/%E9%AA%82/</id>
    <published>2021-08-16T23:39:00.000Z</published>
    <updated>2021-09-19T02:41:45.786Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>骂</strong><br>用粗野或恶意的话侮辱人：～街｜张嘴就～。<br>斥责：他爹～他不长进。<br>-- 现代汉语词典</p></blockquote><p>我且认为，日常汉语的演进，大有把咒骂当作一种口头情绪的宣泄的趋势。此类咒骂，形式上确实多含侮辱，或为斥责，目的却不见得。倘若出门忘了带钥匙，骂一句“卧槽”，不见得此人便是认真侮辱斥责自己。如此咒骂，和叹词无异。</p><p>年少时读范仲淹<a href="https://zh.wikisource.org/zh-hans/%E5%B2%B3%E9%99%BD%E6%A8%93%E8%A8%98">岳阳楼记</a><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>，读到“不以物喜，不以己悲”，以为至理。但人性本兽，若是不准咒骂，未免过于严苛而有矫揉造作之嫌，仿佛不咒骂便不会有负面情绪。又读到<a href="https://zh.wikisource.org/wiki/%E5%8F%B2%E8%A8%98/%E5%8D%B7048">陈涉世家</a><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>“王侯将相宁有种乎”，叹为千古绝骂，可惜新课本里整篇删掉了。</p><p>我认为情绪的宣泄与斥责，可以咒骂，但不宜有侮辱之意。虽然骂大多只是情绪的宣泄，但其必有来由。例如“傻逼”“智障”，不见得施法对象就真是“弱智”，但多有嫌弃“幼稚”“naive, too young”之意。在这一方面，长者可谓道行颇深。骂人幼稚，好歹还有长进的空间。</p><p>特别是以斥责为主的骂，其目的多是要施法对象意识到错误改正，除去情绪外还有强烈的目的性。我一般反对在这种时候带情绪处理问题。忍无可忍，也应当以讽刺为主。讽为幽默，刺求精准，这就对文化素养要求很高了。</p><p>有些骂，看似侮辱，实则，确实侮辱。鲁迅先生曾专就此写过一篇杂文<a href="https://zh.wikisource.org/zh-hans/%E8%AB%96%E3%80%8C%E4%BB%96%E5%AA%BD%E7%9A%84%EF%BC%81%E3%80%8D">《论“他妈的！”》</a><sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>。先生认为国骂出处或无据可考，但北魏有邢子才“卿何必姓王？”，颇有骂人仰仗门第之意。这解读多少与先生反封建的社会背景有关。现在有人再讲“他妈的”，含义基本等同于“肏他妈的”。放到白左嘴里这大概可以解读成中国人歧视侮辱女性了，当然他们自己也有&quot;mother fucker&quot;，倒是巧合？回到国骂本身，倘若当面骂人“肏你妈的”，不见得真要行不轨之事，但侮辱之意甚矣。</p><p>此类宣泄，虽不能说毫无由来，但适用性未必太广了一些，甚至有直接升格成叹词的趋势。按我说，不如以叹词职行叹词事，一句“什么东西”，大概能代替绝大部分的“肏他妈的”，保留惊怒，卸除侮辱。至于像“肏你妈的”这样当面刻意的侮辱，我是反对的。</p><p>按此思路，整理如下表格。尽量剥离不必要的侮辱，精准保留惊叹和负面的情绪及批判目的，力争骂出水平，骂出风采，尽量不被打死。此表长期更新，欢迎补充。后续表同。</p><a id="more"></a><table><thead><tr><th>武骂</th><th>文骂</th><th>备注</th></tr></thead><tbody><tr><td>放屁, 扯淡</td><td>一派胡言</td><td></td></tr><tr><td></td><td>胡说八道</td><td></td></tr><tr><td></td><td>无中生有（的东西你再帮他说一遍你等于你也有责任吧）</td><td>《怒斥港记》</td></tr><tr><td></td><td>不要见得风是得雨</td><td>《怒斥港记》</td></tr><tr><td>智障, 傻逼, 神经病, 脑残</td><td>naive, too young</td><td>《怒斥港记》</td></tr><tr><td></td><td>我感觉你还要学习一个</td><td>《怒斥港记》</td></tr><tr><td></td><td>【制杖,撒币,贩剑,持盾谐音表情包】</td><td>谐音梗不宜滥用</td></tr><tr><td>装逼</td><td>矫揉造作, 作秀, 装傻, 装什么</td><td></td></tr><tr><td>肏, 妈的</td><td>【任何叹词】什么 什么东西 什么玩意 什么鬼 what nani</td><td></td></tr><tr><td>死妈脸</td><td>如丧考妣</td><td>《尚书·舜典》重点在“如”</td></tr><tr><td>滚</td><td>走好, 不送</td><td></td></tr><tr><td>没有，滚</td><td>无可奉告</td><td>《怒斥港记》</td></tr><tr><td>没种</td><td>懦夫</td><td></td></tr></tbody></table><p>前日半夜被野狗跟踪狂吠，半怒半惧下，虚张声势，脱口喝出的居然是&quot;fuck off&quot;，大约其听起来比“滚”更带劲吧。本人英文词汇匮乏，姑且整理如下。</p><table><thead><tr><th>swear word</th><th>better version</th></tr></thead><tbody><tr><td>fuck, shit</td><td>[any exclamation] what nani how</td></tr><tr><td>fuck off</td><td>get lost</td></tr><tr><td>bull shit</td><td>nonsense</td></tr><tr><td>idiot</td><td>naive</td></tr><tr><td>mother fucker, jackass, bastard, asshole, bitch, prick, freak</td><td>villain, bad [e.g. 'orange man bad'][reply: 'Oh you kiss your mother with that mouth? -- Nick Fury']</td></tr><tr><td>whoreson, son of a bitch</td><td>son of a biscuit</td></tr></tbody></table><p>当然，下次见到野狗，骂出口的应该还是&quot;fuck off&quot;。想必不论是中国狗还是外国狗，都听不懂，这骂的语言便不重要了，带劲就行。多学了一门语言用在骂狗上，不亏。</p><p>以下整理特殊场景专用骂词。</p><table><thead><tr><th>场景</th><th>骂</th></tr></thead><tbody><tr><td>表示荒诞</td><td>有毒, toxic</td></tr><tr><td>游戏专用</td><td>梦游, 逛街, 踏青, 给你妈采灵芝, 刷微信步数</td></tr></tbody></table><p>另有以下复习、学习计划专门整理骂法。着重考虑有头有脸的政客，立场鲜明的作家，尤其涉及讽刺文学和艺术的人和事。</p><ul><li>鲁迅文集</li><li>周恩来外交</li><li>苏联政治笑话</li><li>长者语录</li><li>George Carlin talk show</li><li>'Yes Minister' series</li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>https://zh.wikisource.org/zh-hans/岳陽樓記 <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>https://zh.wikisource.org/zh-hans/史記/卷048 <a href="#fnref2" class="footnote-backref">↩︎</a></p></li><li id="fn3" class="footnote-item"><p>https://zh.wikisource.org/zh-hans/論「他媽的！」 <a href="#fnref3" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;骂&lt;/strong&gt;&lt;br&gt;
用粗野或恶意的话侮辱人：～街｜张嘴就～。&lt;br&gt;
斥责：他爹～他不长进。&lt;br&gt;
-- 现代汉语词典&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我且认为，日常汉语的演进，大有把咒骂当作一种口头情绪的宣泄的趋势。此类咒骂，形式上确实多含侮辱，或为斥责，目的却不见得。倘若出门忘了带钥匙，骂一句“卧槽”，不见得此人便是认真侮辱斥责自己。如此咒骂，和叹词无异。&lt;/p&gt;
&lt;p&gt;年少时读范仲淹&lt;a href=&quot;https://zh.wikisource.org/zh-hans/%E5%B2%B3%E9%99%BD%E6%A8%93%E8%A8%98&quot;&gt;岳阳楼记&lt;/a&gt;&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn1&quot; id=&quot;fnref1&quot;&gt;[1]&lt;/a&gt;&lt;/sup&gt;，读到“不以物喜，不以己悲”，以为至理。但人性本兽，若是不准咒骂，未免过于严苛而有矫揉造作之嫌，仿佛不咒骂便不会有负面情绪。又读到&lt;a href=&quot;https://zh.wikisource.org/wiki/%E5%8F%B2%E8%A8%98/%E5%8D%B7048&quot;&gt;陈涉世家&lt;/a&gt;&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn2&quot; id=&quot;fnref2&quot;&gt;[2]&lt;/a&gt;&lt;/sup&gt;“王侯将相宁有种乎”，叹为千古绝骂，可惜新课本里整篇删掉了。&lt;/p&gt;
&lt;p&gt;我认为情绪的宣泄与斥责，可以咒骂，但不宜有侮辱之意。虽然骂大多只是情绪的宣泄，但其必有来由。例如“傻逼”“智障”，不见得施法对象就真是“弱智”，但多有嫌弃“幼稚”“naive, too young”之意。在这一方面，长者可谓道行颇深。骂人幼稚，好歹还有长进的空间。&lt;/p&gt;
&lt;p&gt;特别是以斥责为主的骂，其目的多是要施法对象意识到错误改正，除去情绪外还有强烈的目的性。我一般反对在这种时候带情绪处理问题。忍无可忍，也应当以讽刺为主。讽为幽默，刺求精准，这就对文化素养要求很高了。&lt;/p&gt;
&lt;p&gt;有些骂，看似侮辱，实则，确实侮辱。鲁迅先生曾专就此写过一篇杂文&lt;a href=&quot;https://zh.wikisource.org/zh-hans/%E8%AB%96%E3%80%8C%E4%BB%96%E5%AA%BD%E7%9A%84%EF%BC%81%E3%80%8D&quot;&gt;《论“他妈的！”》&lt;/a&gt;&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn3&quot; id=&quot;fnref3&quot;&gt;[3]&lt;/a&gt;&lt;/sup&gt;。先生认为国骂出处或无据可考，但北魏有邢子才“卿何必姓王？”，颇有骂人仰仗门第之意。这解读多少与先生反封建的社会背景有关。现在有人再讲“他妈的”，含义基本等同于“肏他妈的”。放到白左嘴里这大概可以解读成中国人歧视侮辱女性了，当然他们自己也有&amp;quot;mother fucker&amp;quot;，倒是巧合？回到国骂本身，倘若当面骂人“肏你妈的”，不见得真要行不轨之事，但侮辱之意甚矣。&lt;/p&gt;
&lt;p&gt;此类宣泄，虽不能说毫无由来，但适用性未必太广了一些，甚至有直接升格成叹词的趋势。按我说，不如以叹词职行叹词事，一句“什么东西”，大概能代替绝大部分的“肏他妈的”，保留惊怒，卸除侮辱。至于像“肏你妈的”这样当面刻意的侮辱，我是反对的。&lt;/p&gt;
&lt;p&gt;按此思路，整理如下表格。尽量剥离不必要的侮辱，精准保留惊叹和负面的情绪及批判目的，力争骂出水平，骂出风采，尽量不被打死。此表长期更新，欢迎补充。后续表同。&lt;/p&gt;</summary>
    
    
    
    <category term="Misc" scheme="http://www.mkmark.net/archive/by-category/misc/"/>
    
    
    <category term="psychology" scheme="http://www.mkmark.net/archive/by-tag/psychology/"/>
    
  </entry>
  
  <entry>
    <title>Chengdu Trip</title>
    <link href="http://www.mkmark.net/blog/travel/chengdu-trip/"/>
    <id>http://www.mkmark.net/blog/travel/chengdu-trip/</id>
    <published>2021-08-05T05:48:00.000Z</published>
    <updated>2021-09-19T02:41:45.786Z</updated>
    
    <content type="html"><![CDATA[<h2 id="20210726-Chengdu">20210726 Chengdu</h2><p>First impression, Chengdu feels just like any costal city of East China, with modern CBD, railway station, and subway. Living cost seems somehow lower though.</p><p>Food is not so good as one would normally claim, possibly due to my bad strategy to try to get accustomed to authentic local food. However some dessert does impress me as I had my first taste on sweet jellied Tofu, very much like pudding.</p><p>Local city feels like a strange combination of 2020 East coast CBD with 2000 East coast streets. Prostitutes advertisements are everywhere in hotel, and occasionally I can see one or two of them sharing an elevator.</p><p>The elder generally speaks only local accent which is a trouble for me. Good for me that my girlfriend can understand them quite well.</p><p>There has been an effort to modernize, or to renovate old streets as tourist spots all over China. What surprised me is that old Chengdu streets, feels just like any East China old street.</p><p>Panda, as one of the most famous local cultural element, can be seen everywhere in the city, i.e. posters, sculptures, clothes. Some of these sculptures are really interesting, and the one really impressed me was one built right in the middle of CBD, right on top of one building, featuring a climbing pose.</p><h2 id="20210801-Dujiangyan">20210801 Dujiangyan</h2><p>Ancient irrigation system.</p><p>Refer to https://zhuanlan.zhihu.com/p/334943779 as a general tour plan. Nothing too bad, yet nothing exceeding expectation either.</p><h2 id="20210801-Qingchengshan">20210801 Qingchengshan</h2><p>If I may say, just as Qingchengshan itself is a mountain developed for religious purpose, the best, and most interesting scenery, is local people.</p><a id="more"></a><h3 id="Hitchhikers">Hitchhikers</h3><p>Experienced taxi driver refused to drive us uphill as they expect traffic jam, and an almost certain empty trip back, so they were charing us an additional ￥100. We finally met a driver who charge us only ￥50, who later regrets, as the traffic jam, was true. 1.5 hour in to the jam and we decided that we will walk the rest 6.5 km. We covered 3 km in 40 mins, and my gf went exhausted, so we decided to hitchhike. The first 2 car went passed us were empty, but did not stop. We got lucky on the third one, who turned out to be an entire local family. Two kids even had to share one seat so we could get in. This is actually my first hitchhiking, and I feel so grateful to them.</p><h3 id="Vendors">Vendors</h3><p>We all know wares are expensive at tourist spot. Down the hill the water costs ￥5 per bottle for a commonly ￥2 one, and the seller warned us that the price would double uphill. We did not fall for that. Water uphill, is still ￥5, till the highest shop.</p><h3 id="Monks">Monks</h3><p>Baiyun Temple, located at the peak of Mount Qingcheng, was destroyed in 2008 Sichuan earthquake. It remains half rebuit in 2021, though construction progress can be found on site.</p><p>A banner reading 'Celebrate the 100th Anniversary of CCP' is unexpectely hanging right on what used to be, and would be the Mahavira Hall, making a distinguished scene.</p><p><img src="/content/uploads/20210801174704-Baiyun-Temple-Mount-Qingcheng.jpg" alt="20210801174704 Baiyun Temple, Mount Qingcheng"></p><h3 id="Taxi-Drivers">Taxi Drivers</h3><p>Construction workers who were granted access to the tourist spot so that they could fix the temple, were taking advantage and intimidating us the difficulty of getting down hills, so that they can charge us ￥70 per person and drive us down hill. We refused.</p><p>Later down the hill, due to some misjudgment, we payed a taxi driver ￥100 so he can drive us down really fast in order for us to catch the last train. And he did it as promised. The next 20 minutes I experienced the most exciting taxi driving so far in my life. Driving god of Akina Mountain bless him.</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;20210726-Chengdu&quot;&gt;20210726 Chengdu&lt;/h2&gt;
&lt;p&gt;First impression, Chengdu feels just like any costal city of East China, with modern CBD, railway station, and subway. Living cost seems somehow lower though.&lt;/p&gt;
&lt;p&gt;Food is not so good as one would normally claim, possibly due to my bad strategy to try to get accustomed to authentic local food. However some dessert does impress me as I had my first taste on sweet jellied Tofu, very much like pudding.&lt;/p&gt;
&lt;p&gt;Local city feels like a strange combination of 2020 East coast CBD with 2000 East coast streets. Prostitutes advertisements are everywhere in hotel, and occasionally I can see one or two of them sharing an elevator.&lt;/p&gt;
&lt;p&gt;The elder generally speaks only local accent which is a trouble for me. Good for me that my girlfriend can understand them quite well.&lt;/p&gt;
&lt;p&gt;There has been an effort to modernize, or to renovate old streets as tourist spots all over China. What surprised me is that old Chengdu streets, feels just like any East China old street.&lt;/p&gt;
&lt;p&gt;Panda, as one of the most famous local cultural element, can be seen everywhere in the city, i.e. posters, sculptures, clothes. Some of these sculptures are really interesting, and the one really impressed me was one built right in the middle of CBD, right on top of one building, featuring a climbing pose.&lt;/p&gt;
&lt;h2 id=&quot;20210801-Dujiangyan&quot;&gt;20210801 Dujiangyan&lt;/h2&gt;
&lt;p&gt;Ancient irrigation system.&lt;/p&gt;
&lt;p&gt;Refer to https://zhuanlan.zhihu.com/p/334943779 as a general tour plan. Nothing too bad, yet nothing exceeding expectation either.&lt;/p&gt;
&lt;h2 id=&quot;20210801-Qingchengshan&quot;&gt;20210801 Qingchengshan&lt;/h2&gt;
&lt;p&gt;If I may say, just as Qingchengshan itself is a mountain developed for religious purpose, the best, and most interesting scenery, is local people.&lt;/p&gt;</summary>
    
    
    
    <category term="Travel" scheme="http://www.mkmark.net/archive/by-category/travel/"/>
    
    
  </entry>
  
  <entry>
    <title>The Complexity of Humanity</title>
    <link href="http://www.mkmark.net/blog/learn/the-complexity-of-humanity/"/>
    <id>http://www.mkmark.net/blog/learn/the-complexity-of-humanity/</id>
    <published>2021-07-27T20:46:00.000Z</published>
    <updated>2021-09-19T02:41:45.786Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Everyone knows &quot;complicated&quot; is code for &quot;bitch.&quot;<br>-Gone Girl (2014)</p></blockquote><a id="more"></a><h2 id="Methods">Methods</h2><p>I was trying to classify and model all my good relationship, so I began to look into my friends, their interest, outlook, and personality.</p><p>The first model I bumped into was Myers-Briggs Type Indicator, MBTI. It's a really popular model. I soon discovered it has problem that the model itself is not reasonable as it labelled a lot of personality as incompatible, which is not, like thinking and feeling. IQ and EQ are definitely not contradictory to each other, and mostly often, positively correlated.</p><p>So I did some research and looked into the wikipedia page which lists a lot of psychology models.</p><p>I did not came up with any satisfactory model that is mature enough.</p><p>IMHO a good model, would be listing personality traits as features as independent as possible. For sure there will still be correlations, and it would be a tough work to solve for the coefficients, while distinguishing between those important features and others.</p><p>In the end I decide I should take a different approach. I found the <a href="https://github.com/nucular/mmpi-2">MMPI-2 questionnaire</a> and went on with a more empirical method, by simply trying to understand my target according their existing reaction under certain situation, without the abstraction of personality traits.</p><h2 id="Thoughts">Thoughts</h2><p>Concealed, as you would expect if you think alike.</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Everyone knows &amp;quot;complicated&amp;quot; is code for &amp;quot;bitch.&amp;quot;&lt;br&gt;
-Gone Girl (2014)&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Learn" scheme="http://www.mkmark.net/archive/by-category/learn/"/>
    
    
    <category term="psychology" scheme="http://www.mkmark.net/archive/by-tag/psychology/"/>
    
  </entry>
  
  <entry>
    <title>Project: X3FL dynamic relationships</title>
    <link href="http://www.mkmark.net/blog/game/project-x3fl-dynamic-relationships/"/>
    <id>http://www.mkmark.net/blog/game/project-x3fl-dynamic-relationships/</id>
    <published>2021-06-07T11:04:00.000Z</published>
    <updated>2021-09-19T02:41:45.786Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/mkmark/X3FL-dynamic-relationships">mkmark/X3FL-dynamic-relationships</a></p><div id="https://raw.githubusercontent.com/mkmark/X3FL-dynamic-relationships/main/README.md"></div><script type="text/javascript">parseMd("https://raw.githubusercontent.com/mkmark/X3FL-dynamic-relationships/main/README.md")</script>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/mkmark/X3FL-dynamic-relationships&quot;&gt;mkmark/X3FL-dynamic-relationships&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;https://raw.githubuserc</summary>
      
    
    
    
    <category term="Game" scheme="http://www.mkmark.net/archive/by-category/game/"/>
    
    
    <category term="X3" scheme="http://www.mkmark.net/archive/by-tag/x3/"/>
    
    <category term="Python" scheme="http://www.mkmark.net/archive/by-tag/python/"/>
    
  </entry>
  
  <entry>
    <title>Project: zju-health-reporter</title>
    <link href="http://www.mkmark.net/blog/release/project-zju-health-reporter/"/>
    <id>http://www.mkmark.net/blog/release/project-zju-health-reporter/</id>
    <published>2021-05-31T12:53:00.000Z</published>
    <updated>2021-09-19T02:41:45.785Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/mkmark/netease-cloudmusic-playlist-exporter">mkmark/zju-health-reporter</a></p><div id="https://raw.githubusercontent.com/mkmark/zju-health-reporter/master/README.md"></div><script type="text/javascript">parseMd("https://raw.githubusercontent.com/mkmark/zju-health-reporter/master/README.md")</script>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/mkmark/netease-cloudmusic-playlist-exporter&quot;&gt;mkmark/zju-health-reporter&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;https://raw.githubus</summary>
      
    
    
    
    <category term="Release" scheme="http://www.mkmark.net/archive/by-category/release/"/>
    
    
    <category term="Python" scheme="http://www.mkmark.net/archive/by-tag/python/"/>
    
  </entry>
  
  <entry>
    <title>Project: Prefabricated Engineered Bamboo Mobile House - BIM Modeling</title>
    <link href="http://www.mkmark.net/blog/work/project-prefabricated-engineered-bamboo-mobile-house-bim-modeling/"/>
    <id>http://www.mkmark.net/blog/work/project-prefabricated-engineered-bamboo-mobile-house-bim-modeling/</id>
    <published>2021-05-30T08:15:00.000Z</published>
    <updated>2021-09-19T02:41:45.785Z</updated>
    
    <content type="html"><![CDATA[<p>Glubam is short for glue laminated bamboo, which is a new material<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>.</p><p>This is the BIM modeling project for a new code: Technical specification for prefabricated engineered bamboo mobile house.</p><video autoplay loop muted>    <source type="video/mp4" src="/content/uploads/Prefabricated-Engineered-Bamboo-Mobile-House-BIM-Modeling-1.2.1.mp4" /></video><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>Wu, Y., and Y. Xiao. &quot;Steel and glubam hybrid space truss.&quot; Engineering Structures 171 (2018): 140-153. <a href="#fnref1" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Glubam is short for glue laminated bamboo, which is a new material&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn1&quot; id=&quot;fnref1&quot;&gt;[1]&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;</summary>
      
    
    
    
    <category term="Work" scheme="http://www.mkmark.net/archive/by-category/work/"/>
    
    
    <category term="civil engineering" scheme="http://www.mkmark.net/archive/by-tag/civil-engineering/"/>
    
    <category term="Grasshopper" scheme="http://www.mkmark.net/archive/by-tag/grasshopper/"/>
    
  </entry>
  
  <entry>
    <title>The 2nd Civil Engineering Computing and Simulation Technology Academic Conference</title>
    <link href="http://www.mkmark.net/blog/learn/the-2nd-civil-engineering-computing-and-simulation-technology-academic-conference/"/>
    <id>http://www.mkmark.net/blog/learn/the-2nd-civil-engineering-computing-and-simulation-technology-academic-conference/</id>
    <published>2021-05-15T13:12:00.000Z</published>
    <updated>2021-09-19T02:41:45.785Z</updated>
    
    <content type="html"><![CDATA[<p>I would not put my half organized notes here.</p><p>I met some of the greatest Chinese scholars in the field. Watched their report, and found myself at a very strange position.</p><p>I love computing and simulation technology, but the deeper it goes the more clear its boundry is - technology is technology, civil engineering is engineering, not science.</p><a id="more"></a><p>Anyway, I got lucky and got a few photos taken by the camera man.</p><p><img src="http://wordpress.mkmark.net/content/uploads/20210515-The-2nd-Civil-Engineering-Computing-and-Simulation-Technology-Academic-Conference-Mark-1-scaled.jpeg" alt="20210515 The 2nd Civil Engineering Computing and Simulation Technology Academic Conference - Mark 1"></p><p><img src="http://wordpress.mkmark.net/content/uploads/20210515-The-2nd-Civil-Engineering-Computing-and-Simulation-Technology-Academic-Conference-Mark-2-scaled.jpeg" alt="20210515 The 2nd Civil Engineering Computing and Simulation Technology Academic Conference - Mark 2"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;I would not put my half organized notes here.&lt;/p&gt;
&lt;p&gt;I met some of the greatest Chinese scholars in the field. Watched their report, and found myself at a very strange position.&lt;/p&gt;
&lt;p&gt;I love computing and simulation technology, but the deeper it goes the more clear its boundry is - technology is technology, civil engineering is engineering, not science.&lt;/p&gt;</summary>
    
    
    
    <category term="Learn" scheme="http://www.mkmark.net/archive/by-category/learn/"/>
    
    
    <category term="civil engineering" scheme="http://www.mkmark.net/archive/by-tag/civil-engineering/"/>
    
  </entry>
  
  <entry>
    <title>Changsha Trip</title>
    <link href="http://www.mkmark.net/blog/travel/changsha-trip/"/>
    <id>http://www.mkmark.net/blog/travel/changsha-trip/</id>
    <published>2021-05-09T12:59:00.000Z</published>
    <updated>2021-09-19T02:41:45.785Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/content/uploads/20210509-True-Fans-scaled.jpg" alt="True Fans"><br>Changsha Culture and Art Center, by Zaha Hadid.</p><p>A true fans sees him everywhere.</p><p><img src="/content/uploads/20210509-College-of-Civil-Engineering-Hunan-University-scaled.jpg" alt="20210509 College of Civil Engineering, Hunan University"></p><p>Odd enough, the metro exit reads 'College of Civil Engineering, Hunan University' instead of just 'Hunan University', despite the entire campus is just outside of the exit and College of Civil Engineering is the one most far from the exit.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/content/uploads/20210509-True-Fans-scaled.jpg&quot; alt=&quot;True Fans&quot;&gt;&lt;br&gt;
Changsha Culture and Art Center, by Zaha Hadid.&lt;/p&gt;
&lt;p&gt;A t</summary>
      
    
    
    
    <category term="Travel" scheme="http://www.mkmark.net/archive/by-category/travel/"/>
    
    
    <category term="civil engineering" scheme="http://www.mkmark.net/archive/by-tag/civil-engineering/"/>
    
  </entry>
  
  <entry>
    <title>Project: Glubam Building</title>
    <link href="http://www.mkmark.net/blog/work/project-glubam-building/"/>
    <id>http://www.mkmark.net/blog/work/project-glubam-building/</id>
    <published>2021-04-07T17:21:00.000Z</published>
    <updated>2021-09-19T02:41:45.785Z</updated>
    
    <content type="html"><![CDATA[<p>A <strong>real</strong> glubam project to be built in Changsha, Hunan, China.</p><p>It will be the <strong>first glubam<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> multistory office building in the world</strong>.</p><p>It is also my first calculation <strong>completely done in python. <a href="/content/uploads/202106012045-Calculation.html">The code can be found here</a></strong>, in Chinese. You're always welcome to use google translate though.</p><h2 id="Architecture">Architecture</h2><p>The current accepted architecture proposal is</p><p><img src="http://wordpress.mkmark.net/content/uploads/20210408-Glubam-Building-4.6-2.jpg" alt="20210408 Glubam Building 4.6-2"></p><a id="more"></a><p><img src="http://wordpress.mkmark.net/content/uploads/20210408-Glubam-Building-4.6-10.jpg" alt="20210408 Glubam Building 4.6-10"></p><p>Completely parametrically modeled in Grasshopper.</p><p>Will possibly rebuild in Revit in near future, for practise purpose and engineering planning.</p><h2 id="Engineering">Engineering</h2><p><a href="/content/uploads/202106012045-Calculation.html">Calculation</a> is done by python (in Chinese, but you are always welcome to use google translate) and SAP2000.</p><p>The blueprint is exported from Rhino-Grasshopper, and dimensioned by Autodesk CAD (To be updated).</p><h2 id="Credits">Credits</h2><p>Directed by Prof. Yan Xiao.</p><p>Designed by Mark Ma.</p><p>Non-commercial project for research and demo purpose.</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>Wu, Y., and Y. Xiao. &quot;Steel and glubam hybrid space truss.&quot; Engineering Structures 171 (2018): 140-153. <a href="#fnref1" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">&lt;p&gt;A &lt;strong&gt;real&lt;/strong&gt; glubam project to be built in Changsha, Hunan, China.&lt;/p&gt;
&lt;p&gt;It will be the &lt;strong&gt;first glubam&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn1&quot; id=&quot;fnref1&quot;&gt;[1]&lt;/a&gt;&lt;/sup&gt; multistory office building in the world&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;It is also my first calculation &lt;strong&gt;completely done in python. &lt;a href=&quot;/content/uploads/202106012045-Calculation.html&quot;&gt;The code can be found here&lt;/a&gt;&lt;/strong&gt;, in Chinese. You&#39;re always welcome to use google translate though.&lt;/p&gt;
&lt;h2 id=&quot;Architecture&quot;&gt;Architecture&lt;/h2&gt;
&lt;p&gt;The current accepted architecture proposal is&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://wordpress.mkmark.net/content/uploads/20210408-Glubam-Building-4.6-2.jpg&quot; alt=&quot;20210408 Glubam Building 4.6-2&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Work" scheme="http://www.mkmark.net/archive/by-category/work/"/>
    
    
    <category term="civil engineering" scheme="http://www.mkmark.net/archive/by-tag/civil-engineering/"/>
    
    <category term="Grasshopper" scheme="http://www.mkmark.net/archive/by-tag/grasshopper/"/>
    
  </entry>
  
  <entry>
    <title>苏康码自动健康申报</title>
    <link href="http://www.mkmark.net/blog/solution/%E8%8B%8F%E5%BA%B7%E7%A0%81%E8%87%AA%E5%8A%A8%E5%81%A5%E5%BA%B7%E7%94%B3%E6%8A%A5/"/>
    <id>http://www.mkmark.net/blog/solution/%E8%8B%8F%E5%BA%B7%E7%A0%81%E8%87%AA%E5%8A%A8%E5%81%A5%E5%BA%B7%E7%94%B3%E6%8A%A5/</id>
    <published>2021-03-15T08:41:00.000Z</published>
    <updated>2021-09-19T02:41:45.785Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://gist.github.com/mkmark/91e2a8a3b848a064773d75df597e7071">https://gist.github.com/mkmark/91e2a8a3b848a064773d75df597e7071</a></p><a id="more"></a><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># %% import</span><span class="token keyword">import</span> json<span class="token keyword">import</span> datetime<span class="token keyword">import</span> dateutil<span class="token punctuation">.</span>tz<span class="token keyword">import</span> logging<span class="token keyword">import</span> io<span class="token keyword">import</span> requests<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>parse<span class="token keyword">import</span> pickle<span class="token keyword">import</span> os<span class="token keyword">import</span> atexit<span class="token comment"># %% logger</span>logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token punctuation">)</span>logger<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>handler_console <span class="token operator">=</span> logging<span class="token punctuation">.</span>StreamHandler<span class="token punctuation">(</span><span class="token punctuation">)</span>handler_console<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">'%(asctime)s - %(name)s - %(levelname)s - %(message)s'</span><span class="token punctuation">)</span>handler_console<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>log_stringIO <span class="token operator">=</span> io<span class="token punctuation">.</span>StringIO<span class="token punctuation">(</span><span class="token punctuation">)</span>handler_string <span class="token operator">=</span> logging<span class="token punctuation">.</span>StreamHandler<span class="token punctuation">(</span>log_stringIO<span class="token punctuation">)</span>handler_string<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">'%(message)s'</span><span class="token punctuation">)</span>handler_string<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>handler_console<span class="token punctuation">)</span>logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>handler_string<span class="token punctuation">)</span><span class="token comment"># %% jsstm</span><span class="token keyword">class</span> <span class="token class-name">Jsstm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>session <span class="token operator">=</span> requests<span class="token punctuation">.</span>session<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token string">'jsstm_cookie'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'jsstm_cookie'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>                self<span class="token punctuation">.</span>session<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>update<span class="token punctuation">(</span>pickle<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">get_headers</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token string">'Origin'</span><span class="token punctuation">:</span> <span class="token string">'https://jsstm.jszwfw.gov.cn'</span><span class="token punctuation">,</span>            <span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json, text/javascript, */*; q=0.01'</span><span class="token punctuation">,</span>            <span class="token string">'X-Requested-With'</span><span class="token punctuation">:</span> <span class="token string">'XMLHttpRequest'</span><span class="token punctuation">,</span>            <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>User<span class="token operator">-</span>Agent<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token string">'Referer'</span><span class="token punctuation">:</span> <span class="token string">'https://jsstm.jszwfw.gov.cn/jkmIndex.html?token=&#123;&#123;token&#125;&#125;&amp;jszwuserid=&#123;&#123;token2&#125;&#125;&amp;uuid=&#123;&#123;token3&#125;&#125;'</span><span class="token punctuation">,</span>            <span class="token string">'x-mass-tappid'</span><span class="token punctuation">:</span> <span class="token string">'2018062060350751'</span><span class="token punctuation">,</span>            <span class="token string">'Accept-Language'</span><span class="token punctuation">:</span> <span class="token string">'en-US'</span><span class="token punctuation">,</span>            <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/x-www-form-urlencoded; charset=UTF-8'</span><span class="token punctuation">,</span>            <span class="token string">'Accept-Encoding'</span><span class="token punctuation">:</span> <span class="token string">'gzip'</span><span class="token punctuation">,</span>            <span class="token string">'Host'</span><span class="token punctuation">:</span> <span class="token string">'jsstm.jszwfw.gov.cn'</span><span class="token punctuation">,</span>            <span class="token string">'Connection'</span><span class="token punctuation">:</span> <span class="token string">'Keep-Alive'</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span><span class="token punctuation">(</span>headers<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">http_post</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> job<span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>        logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'http_post start: %s'</span><span class="token punctuation">,</span> job<span class="token punctuation">)</span>        response <span class="token operator">=</span> self<span class="token punctuation">.</span>session<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> headers<span class="token operator">=</span>self<span class="token punctuation">.</span>get_headers<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'http_post end: %s'</span><span class="token punctuation">,</span> job<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'http_post success: %s'</span><span class="token punctuation">,</span> job<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'http_post fail: %s'</span><span class="token punctuation">,</span> job<span class="token punctuation">)</span>            exit<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">userAuth</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>        job <span class="token operator">=</span> <span class="token string">'userAuth'</span>        url <span class="token operator">=</span> <span class="token string">'https://jsstm.jszwfw.gov.cn/jkm/userAuth'</span>        response <span class="token operator">=</span> self<span class="token punctuation">.</span>http_post<span class="token punctuation">(</span>job<span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">get_urlabc</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        response_dict <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>        abc <span class="token operator">=</span> response_dict<span class="token punctuation">[</span><span class="token string">'res'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'userdetail'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'abc'</span><span class="token punctuation">]</span>        urlabc <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>quote<span class="token punctuation">(</span>abc<span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">(</span>urlabc<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">queryAttendanceList</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>        job <span class="token operator">=</span> <span class="token string">'queryAttendanceList'</span>        url <span class="token operator">=</span> <span class="token string">'https://jsstm.jszwfw.gov.cn/day/queryAttendanceList'</span>        response <span class="token operator">=</span> self<span class="token punctuation">.</span>http_post<span class="token punctuation">(</span>job<span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">get_last_attendance</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        response_dict <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>        timestamp <span class="token operator">=</span> response_dict<span class="token punctuation">[</span><span class="token string">'res'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'list'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'createtime'</span><span class="token punctuation">]</span>        utc <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>utcfromtimestamp<span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span>        from_zone <span class="token operator">=</span> dateutil<span class="token punctuation">.</span>tz<span class="token punctuation">.</span>gettz<span class="token punctuation">(</span><span class="token string">'UTC'</span><span class="token punctuation">)</span>        to_zone <span class="token operator">=</span> dateutil<span class="token punctuation">.</span>tz<span class="token punctuation">.</span>gettz<span class="token punctuation">(</span><span class="token string">'China/Shang_Hai'</span><span class="token punctuation">)</span>        utc <span class="token operator">=</span> utc<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>tzinfo<span class="token operator">=</span>from_zone<span class="token punctuation">)</span>        utcp8 <span class="token operator">=</span> utc<span class="token punctuation">.</span>astimezone<span class="token punctuation">(</span>to_zone<span class="token punctuation">)</span>        utcp8_str <span class="token operator">=</span> utcp8<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span>        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'last attendance: %s'</span><span class="token punctuation">,</span> utcp8_str<span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">(</span>utcp8_str<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">saveDailyAttendence</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>        job <span class="token operator">=</span> <span class="token string">'saveDailyAttendence'</span>        url <span class="token operator">=</span> <span class="token string">'https://jsstm.jszwfw.gov.cn/day/saveDailyAttendance'</span>        response <span class="token operator">=</span> self<span class="token punctuation">.</span>http_post<span class="token punctuation">(</span>job<span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token comment"># %% telegram_bot</span><span class="token keyword">class</span> <span class="token class-name">Telegram_bot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    proxies <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'http'</span><span class="token punctuation">:</span> <span class="token string">'&#123;&#123;proxy&#125;&#125;'</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">def</span> <span class="token function">ping</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> token<span class="token punctuation">,</span> chat_id<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">:</span>        url <span class="token operator">=</span> <span class="token string">'https://api.telegram.org/bot'</span> <span class="token operator">+</span> token <span class="token operator">+</span> <span class="token string">'/sendMessage?chat_id='</span> <span class="token operator">+</span> chat_id <span class="token operator">+</span> <span class="token string">'&amp;text='</span> <span class="token operator">+</span> text        requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> proxies<span class="token operator">=</span>self<span class="token punctuation">.</span>proxies<span class="token punctuation">)</span><span class="token comment"># %%</span><span class="token keyword">def</span> <span class="token function">exit_handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># telegram_bot</span>    telegram_bot <span class="token operator">=</span> Telegram_bot<span class="token punctuation">(</span><span class="token punctuation">)</span>    token <span class="token operator">=</span> <span class="token string">'&#123;&#123;telegram_token&#125;&#125;'</span>    chat_id <span class="token operator">=</span> <span class="token string">'&#123;&#123;telegram_chat_id&#125;&#125;'</span>    telegram_bot<span class="token punctuation">.</span>ping<span class="token punctuation">(</span>token<span class="token punctuation">,</span> chat_id<span class="token punctuation">,</span> log_stringIO<span class="token punctuation">.</span>getvalue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>atexit<span class="token punctuation">.</span>register<span class="token punctuation">(</span>exit_handler<span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    jsstm <span class="token operator">=</span> Jsstm<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># login</span>    data_userAuth <span class="token operator">=</span> <span class="token string">'token=&#123;&#123;token&#125;&#125;&amp;uuid=&#123;&#123;token2&#125;&#125;&amp;source=alipay'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>    response <span class="token operator">=</span> jsstm<span class="token punctuation">.</span>userAuth<span class="token punctuation">(</span>data_userAuth<span class="token punctuation">)</span>    urlabc <span class="token operator">=</span> jsstm<span class="token punctuation">.</span>get_urlabc<span class="token punctuation">(</span>response<span class="token punctuation">)</span>    <span class="token comment"># saveDailyAttendence</span>    data_saveDailyAttendence <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'member_id=&#123;&#123;身份证&#125;&#125;&amp;name=&#123;&#123;url姓名&#125;&#125;&amp;mobile=&#123;&#123;手机号&#125;&#125;&amp;idType=1&amp;degree=37.3&amp;realtimeLocation=&amp;source=alipay&amp;degree_flag=0&amp;r1data=0&amp;r2data=0&amp;r3data=0&amp;travel=0&amp;r5data=&amp;travel_destination=&amp;travel_time=&amp;travel_duration=&amp;travel_destination_code=&amp;other=&amp;abc='</span> <span class="token operator">+</span> urlabc<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>    jsstm<span class="token punctuation">.</span>saveDailyAttendence<span class="token punctuation">(</span>data_saveDailyAttendence<span class="token punctuation">)</span>    <span class="token comment"># queryAttendanceList</span>    data_queryAttendanceList <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'userId=&#123;&#123;身份证&#125;&#125;&amp;abc='</span> <span class="token operator">+</span> urlabc<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>    response <span class="token operator">=</span> jsstm<span class="token punctuation">.</span>queryAttendanceList<span class="token punctuation">(</span>data_queryAttendanceList<span class="token punctuation">)</span>    utcp8_str <span class="token operator">=</span> jsstm<span class="token punctuation">.</span>get_last_attendance<span class="token punctuation">(</span>response<span class="token punctuation">)</span>    <span class="token comment"># save cookie across sessions</span>    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'jsstm_cookie'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>        pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>jsstm<span class="token punctuation">.</span>session<span class="token punctuation">.</span>cookies<span class="token punctuation">,</span> f<span class="token punctuation">)</span></code></pre>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://gist.github.com/mkmark/91e2a8a3b848a064773d75df597e7071&quot;&gt;https://gist.github.com/mkmark/91e2a8a3b848a064773d75df597e7071&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Solution" scheme="http://www.mkmark.net/archive/by-category/solution/"/>
    
    
    <category term="Python" scheme="http://www.mkmark.net/archive/by-tag/python/"/>
    
  </entry>
  
  <entry>
    <title>TL-R473G Router Hack</title>
    <link href="http://www.mkmark.net/blog/solution/tl-r473g-router-hack/"/>
    <id>http://www.mkmark.net/blog/solution/tl-r473g-router-hack/</id>
    <published>2021-02-23T02:53:00.000Z</published>
    <updated>2021-09-19T02:41:45.784Z</updated>
    
    <content type="html"><![CDATA[<p>I finally come back home to reset the router which was accidentally turned into brick half an year ago. With more experience in Linux I finally successfully gained root access to the device.</p><a id="more"></a><h2 id="Purpose">Purpose</h2><p>The intention was to fully utilize the router so that I can use it as a bridge, allowing me to access China LAN and home LAN from abroad using reverse proxy for NAT traversal. This however, failed in a sense of practical use due to various reasons.</p><ul><li>TL-R473G is not a openly supported OpenWRT router, despite the official rom is built on OpenWRT 14.07, there is no way to upgrade it</li><li>The corresponding SDk <a href="https://archive.openwrt.org/barrier_breaker/14.07/ar71xx/generic/OpenWrt-SDK-ar71xx-for-linux-x86_64-gcc-4.8-linaro_uClibc-0.9.33.2.tar.bz2">OpenWrt-SDK-ar71xx-for-linux-x86_64-gcc-4.8-linaro_uClibc-0.9.33.2</a> was too old to support various modules. To safely cross the GFW there isn't much choice, i.e. V2ray requires golang which is yet included in the SDK snapshot</li><li>The latest SDK <a href="https://downloads.openwrt.org/snapshots/targets/ath79/generic/openwrt-sdk-ath79-generic_gcc-8.4.0_musl.Linux-x86_64.tar.xz">openwrt-sdk-ath79-generic_gcc-8.4.0_musl.Linux-x86_64</a> despite supports golang, uses a different C lib (may have other critical differences too) and is not intended to compile for an older system</li></ul><p>Still, the successful root itself is a breakthrough.</p><h2 id="Minimal-root-Workflow">Minimal root Workflow</h2><p>Back up the router config <code>backup-TP-LINK-xxxx-xx-xx.bin</code></p><p>Rename to <code>backup-TP-LINK-xxxx-xx-xx.bin.tar.gz</code></p><p>Use 7z to modify <code>tmp/userconfig/etc/config/dropbear</code>, change <code>option ssh_port_switch</code> form <code>off</code> to <code>on</code></p><p>Restore using the modified backup.</p><p>Get the routers LAN MAC address (can be found in the web console)</p><p>Get the root password by</p><pre class="language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> -n <span class="token string">"<span class="token variable">$macAddr</span>"</span> <span class="token operator">|</span> md5sum<span class="token variable">)</span></span><span class="token builtin class-name">echo</span> <span class="token variable">$&#123;key<span class="token operator">:</span>0<span class="token operator">:</span>8&#125;</span></code></pre><p>where <code>$macAddr</code> is the MAC address.</p><p>ssh into the router using</p><pre class="language-shell" data-language="shell"><code class="language-shell"><span class="token function">ssh</span> root@192.168.1.1 -p <span class="token number">33400</span></code></pre><h2 id="The-Exploit">The Exploit</h2><p>The official rom has a web interface which allows backup and restore using generated <code>backup-TP-LINK-xxxx-xx-xx.bin</code> file, which turns out to be a <code>tar.gz</code> file of various config files, including <code>/etc/passwd</code>, <code>/etc/shadow</code>, and <code>/etc/config/dropbear</code></p><p>By modifying the backup file and restore, we can modify the system files.</p><p>To enable ssh login, modify <code>/etc/config/dropbear</code>.</p><p>Changing root password inside <code>/etc/passwd</code> has no effect, which turned out that dropbear is creating root password using <code>/etc/init.d/dropbear/</code></p><pre class="language-shell" data-language="shell"><code class="language-shell"><span class="token function-name function">getNewPasswd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token builtin class-name">.</span> /lib/functions.sh        <span class="token builtin class-name">local</span> <span class="token assign-left variable">macAddr</span><span class="token operator">=</span><span class="token string">""</span>        <span class="token assign-left variable">macAddr</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>uci_get tddp macaddr macaddr<span class="token variable">)</span></span>        <span class="token comment">#echo "macAddr is $macAddr" > /dev/console</span>        <span class="token builtin class-name">local</span> <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> -n <span class="token string">"<span class="token variable">$macAddr</span>"</span> <span class="token operator">|</span> md5sum<span class="token variable">)</span></span>        <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $<span class="token punctuation">&#123;</span>key:0:8<span class="token punctuation">&#125;</span><span class="token variable">)</span></span>        <span class="token comment">#echo "key is $key" > /dev/console</span>        <span class="token builtin class-name">echo</span> <span class="token variable">$&#123;key&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>This file is not included in the backup file, but has mod 755, allows access once ssh into the router.</p><p>So we first modify the dropbear config as in minimal root workflow, then create a new user in <code>/etc/passwd</code>, <code>/etc/shadow</code>, ssh into the router using this new user, only to find the <code>/etc/init.d/dropbear/</code> exactly as above, allowing us to acquire the root password as in the minimal root workflow.</p><h2 id="Misc">Misc</h2><pre class="language-none"><code class="language-none">root@TP-LINK:&#x2F;etc# cat &#x2F;etc&#x2F;*releaseDISTRIB_ID&#x3D;&quot;OpenWrt&quot;DISTRIB_RELEASE&#x3D;&quot;Barrier Breaker&quot;DISTRIB_REVISION&#x3D;&quot;r60685&quot;DISTRIB_CODENAME&#x3D;&quot;barrier_breaker&quot;DISTRIB_TARGET&#x3D;&quot;ar71xx&#x2F;generic&quot;DISTRIB_DESCRIPTION&#x3D;&quot;OpenWrt Barrier Breaker 14.07&quot;DISTRIB_TAINTS&#x3D;&quot;no-all no-ipv6 busybox&quot;root@TP-LINK:&#x2F;etc# opkg print-architecturearch all 1arch noarch 1arch ar71xx 10</code></pre><p>The CPU model information is unclear as it's not provided by OEM. A quick search on google returns results showing that it's using a 775Mhz processor, which combined with MIPS gives search results showing that it is most likely using QCA9563, or QCA956X, both are MIPS 74Kc.</p><h3 id="update-opkg">update opkg</h3><p>refer to <a href="https://unix.stackexchange.com/questions/367292/changing-repository-in-openwrt">opkg - Changing repository in openwrt - Unix &amp; Linux Stack Exchange</a></p><p>but replace <code>https://downloads.openwrt.org</code> with <code>http://archive.openwrt.org</code></p><pre class="language-shell" data-language="shell"><code class="language-shell"><span class="token function">vim</span> /etc/opkg.conf</code></pre><p>add</p><pre class="language-none"><code class="language-none">src&#x2F;gz base https:&#x2F;&#x2F;archive.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ar71xx&#x2F;generic&#x2F;packages&#x2F;basesrc&#x2F;gz luci https:&#x2F;&#x2F;archive.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ar71xx&#x2F;generic&#x2F;packages&#x2F;lucisrc&#x2F;gz management https:&#x2F;&#x2F;archive.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ar71xx&#x2F;generic&#x2F;packages&#x2F;managementsrc&#x2F;gz oldpackages https:&#x2F;&#x2F;archive.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ar71xx&#x2F;generic&#x2F;packages&#x2F;oldpackagessrc&#x2F;gz packages https:&#x2F;&#x2F;archive.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ar71xx&#x2F;generic&#x2F;packages&#x2F;packagessrc&#x2F;gz routing https:&#x2F;&#x2F;archive.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ar71xx&#x2F;generic&#x2F;packages&#x2F;routingsrc&#x2F;gz telephony https:&#x2F;&#x2F;archive.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ar71xx&#x2F;generic&#x2F;packages&#x2F;telephony</code></pre><h2 id="Reference">Reference</h2><p><a href="http://blog.jcat.cn/?p=74">tl-r473gp-ac (tl-r479gp-ac) root 权限 ss + ChinaDNS (shadowsocks + ChinaDNS)</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;I finally come back home to reset the router which was accidentally turned into brick half an year ago. With more experience in Linux I finally successfully gained root access to the device.&lt;/p&gt;</summary>
    
    
    
    <category term="Solution" scheme="http://www.mkmark.net/archive/by-category/solution/"/>
    
    
    <category term="Linux" scheme="http://www.mkmark.net/archive/by-tag/linux/"/>
    
  </entry>
  
  <entry>
    <title>Math in Banished - Maximum Population</title>
    <link href="http://www.mkmark.net/blog/game/math-in-banished-maximum-population/"/>
    <id>http://www.mkmark.net/blog/game/math-in-banished-maximum-population/</id>
    <published>2021-02-19T02:18:00.000Z</published>
    <updated>2021-09-19T02:41:45.784Z</updated>
    
    <content type="html"><![CDATA[<p>enfo13<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> posted a 4000+ population reddit yet I think some of the popular models/conclusions might be wrong so I decide to write this paper.</p><p>The majority of this paper is based on theory and is yet to be testified.</p><p>The game is so time consuming that I don't even know if I'll be able to test my theory.</p><a id="more"></a><h2 id="Maximum-Population-What-is-the-limit">Maximum Population - What is the limit</h2><h3 id="Trade-Economy">Trade Economy</h3><p>Food, together with other necessary supplies like tools, clothes and fuel, limited by import.</p><p>House number, influenced by space available.</p><h3 id="Peasant-Economy">Peasant Economy</h3><p>Productivity per land area, influenced by production layout, folk's health and happiness.</p><h2 id="Trading-Post-and-Economy-Models">Trading Post and Economy Models</h2><p>According to pollackey <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>, 5 types of merchants visit randomly every 6 months if dismissed immediately.</p><p>Towns with population greater than 150 have fully developed merchants.</p><p>A detailed calculation shows firewood economy or ale economy is the preferred type for maximum population.</p><h3 id="Firewood-Economy">Firewood Economy</h3><p>Fully developed general goods merchants carry 200(batch size) * 20 (batch number) = 4000<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> logs if only log is specified in order.</p><p>Fully developed resource merchants carry 200(batch size) * 5 (batch number) = 1000<sup class="footnote-ref"><a href="#fn3" id="fnref3:1">[3:1]</a></sup> logs if only log is specified in order.</p><p>By probability a maximum of 5000 log can be purchased every 2.5 years, or 2000 per year.</p><p>A typical wood cutter produces 500-1100 firewood per season, or consumes about 600*4/3=800 logs per year. To avoid storage full and allow smaller storage space, 3 wood cutters per trading post is recommended. Excessive wood cutters can be transformed into stock pile easily if desired.</p><p>When the general goods merchant comes, we need at least storage space for 4000 logs and 2000 firewood assigned to that trading post, which is 4000/22.75+2000/62.5=208 sq.</p><p>When the resource merchant comes, we need at least storage space for 1000 logs and 500 firewood assigned to that trading post, which is 1000/22.75+500/62.5=52 sq.</p><p>With 5 types of merchants coming randomly,</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">E</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.2</mn><mo>×</mo><mn>208</mn><mo>+</mo><mn>0.2</mn><mo>×</mo><mn>52</mn><mo>=</mo><mn>52</mn><mi>s</mi><mi>q</mi></mrow><annotation encoding="application/x-tex">\operatorname{E}(X) = 0.2 \times 208 + 0.2 \times 52 = 52 sq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mord mathrm">E</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">5</span><span class="mord">2</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span></span></p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">Var</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">E</mi><mo>⁡</mo><mrow><mo fence="true">[</mo><mo stretchy="false">(</mo><mi>X</mi><mo>−</mo><mi>μ</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo fence="true">]</mo></mrow><mo>=</mo><mn>0.2</mn><mo>×</mo><mn>15</mn><msup><mn>6</mn><mn>2</mn></msup><mo>+</mo><mn>0.6</mn><mo>×</mo><mn>5</mn><msup><mn>2</mn><mn>2</mn></msup><mo>=</mo><mn>6489.6</mn><mi>s</mi><msup><mi>q</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\operatorname{Var}(X) = \operatorname{E}\left[(X - \mu)^2 \right] =  0.2\times156^2 + 0.6\times 52^2 = 6489.6 sq^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mord mathrm">a</span><span class="mord mathrm">r</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2141179999999998em;vertical-align:-0.35001em;"></span><span class="mop"><span class="mord mathrm">E</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">μ</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9474379999999999em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">5</span><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8641079999999999em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0585479999999998em;vertical-align:-0.19444em;"></span><span class="mord">6</span><span class="mord">4</span><span class="mord">8</span><span class="mord">9</span><span class="mord">.</span><span class="mord">6</span><span class="mord mathnormal">s</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>σ</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><msqrt><mrow><mi mathvariant="normal">Var</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow></msqrt><mo>=</mo><mn>80.56</mn><mi>s</mi><mi>q</mi></mrow><annotation encoding="application/x-tex">\sigma(X) = \sqrt{\operatorname{Var}(X)} = 80.56 sq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.25612499999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.983875em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mop"><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mord mathrm">a</span><span class="mord mathrm">r</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span><span style="top:-2.9438750000000002em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25612499999999994em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">8</span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span><span class="mord">6</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span></span></p><p>Using Central Limit Theorem, with a 95% confidence, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>52</mn><mo>+</mo><mn>1.96</mn><mo>×</mo><mn>80.56</mn><mo>=</mo><mn>210</mn><mi>s</mi><mi>q</mi></mrow><annotation encoding="application/x-tex">52+1.96\times80.56 = 210 sq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">9</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord">1</span><span class="mord">0</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> is required per trading post, which is a lot of land.</p><p>In real production, storage space is best assigned to separate 6x6 spaces (road excluded) such that it can be easily converted into wood cutter or vise versa.</p><p>Considering wood cutter output, purchasing power is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>×</mo><mo stretchy="false">(</mo><mn>600</mn><mo>×</mo><mn>3</mn><mo>−</mo><mn>600</mn><mi mathvariant="normal">/</mi><mn>3</mn><mo>×</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mn>5600</mn></mrow><annotation encoding="application/x-tex">4 \times (600 \times 3 - 600/3 \times 2)=5600</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">6</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">6</span><span class="mord">0</span><span class="mord">0</span><span class="mord">/</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">6</span><span class="mord">0</span><span class="mord">0</span></span></span></span> for food per year per cutter.</p><p>Considering import limit, purchasing power is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5000</mn><mo>×</mo><mn>3</mn><mo>×</mo><mn>3</mn><mo>−</mo><mn>5000</mn><mo>×</mo><mn>2</mn><mo>=</mo><mn>35000</mn></mrow><annotation encoding="application/x-tex">5000 \times 3 \times 3 - 5000 \times 2=35000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> for food per 2.5 years per post, or 14000 per year.</p><p>However, Food merchant comes with at most 2000(batch size) * 15 (batch number) = 30000<sup class="footnote-ref"><a href="#fn3" id="fnref3:2">[3:2]</a></sup> food per 2.5 years per post, which eliminates the requirement of other products at firewood trading post.</p><p>A typical firewood trading posts can store 9999 firewood, just enough for 30000 food, which is perfect.</p><p>The excessive purchasing power can be redirected to food only trading posts for maximum possible food import.</p><h3 id="Ale-Economy">Ale Economy</h3><h4 id="Orchards-Production">Orchards Production</h4><p>For maximum land efficiency a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>×</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">5 \times 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> orchard produces 195 food per year according to Calculator<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>.</p><p>A tavern produces an estimated 2000<sup class="footnote-ref"><a href="#fn3" id="fnref3:3">[3:3]</a></sup> ale per year, with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2000</mn><mi mathvariant="normal">/</mi><mn>10</mn><mo>×</mo><mn>30</mn><mo>=</mo><mn>6000</mn></mrow><annotation encoding="application/x-tex">2000/10\times30 = 6000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">/</span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> fruit consumption.</p><p>A constant <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6000</mn><mi mathvariant="normal">/</mi><mn>195</mn><mo>×</mo><mn>20</mn><mo>=</mo><mn>615</mn><mi>s</mi><mi>q</mi></mrow><annotation encoding="application/x-tex">6000/195 \times 20=615 sq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">6</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">/</span><span class="mord">1</span><span class="mord">9</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">6</span><span class="mord">1</span><span class="mord">5</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> orchard land, or 30 orchards is required per tavern. Considering orchard trees need regrowth every few years, even more orchards is required. This consumes much more land than wood cutter as only <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>210</mn><mi mathvariant="normal">/</mi><mn>3</mn><mo>=</mo><mn>70</mn><mi>s</mi><mi>q</mi></mrow><annotation encoding="application/x-tex">210/3 = 70sq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord">1</span><span class="mord">0</span><span class="mord">/</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">7</span><span class="mord">0</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> is required per cutter.</p><p>However, purchasing power is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2000</mn><mo>×</mo><mn>8</mn><mo>−</mo><mn>6000</mn><mo>=</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">2000 \times 8-6000=10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> for food per tavern per year, much higher than that of firewood economy.</p><h4 id="Fruit-Trading">Fruit Trading</h4><p>Fruit trading exempts the low efficiency orchards.</p><p>To maximize specialization, trading post need to specify the fruit it requires for ale production. Take apple as an example.</p><p>Fully developed general goods merchants carry 2000(batch size) * 20 (batch number) = 40000<sup class="footnote-ref"><a href="#fn3" id="fnref3:4">[3:4]</a></sup> apple if only apple is specified in order.</p><p>Fully developed food merchants carry 2000(batch size) * 15 (batch number) = 30000<sup class="footnote-ref"><a href="#fn3" id="fnref3:5">[3:5]</a></sup> apple if only apple is specified in order.</p><p>When the general goods merchant comes, we need at least storage space for 40000 apples assigned to that trading post, which is 40000/200 = 200sq or 40000/6000 = 6.67 storage barn.</p><p>When the resource merchant comes, we need at least storage space for 30000 apples assigned to that trading post, which is 30000/200 = 150sq or 30000/6000 = 5 storage barn.</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">E</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.2</mn><mo>×</mo><mn>40000</mn><mo>+</mo><mn>0.2</mn><mo>×</mo><mn>30000</mn><mo>=</mo><mn>14000</mn></mrow><annotation encoding="application/x-tex">\operatorname{E}(X) = 0.2 \times 40000 + 0.2 \times 30000 = 14000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mord mathrm">E</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></span></p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">Var</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">E</mi><mo>⁡</mo><mrow><mo fence="true">[</mo><mo stretchy="false">(</mo><mi>X</mi><mo>−</mo><mi>μ</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo fence="true">]</mo></mrow><mo>=</mo><mn>0.2</mn><mo>×</mo><mn>2600</mn><msup><mn>0</mn><mn>2</mn></msup><mo>+</mo><mn>0.2</mn><mo>×</mo><mn>1600</mn><msup><mn>0</mn><mn>2</mn></msup><mo>+</mo><mn>0.6</mn><mo>×</mo><mn>1400</mn><msup><mn>0</mn><mn>2</mn></msup><mo>=</mo><mn>304000000</mn></mrow><annotation encoding="application/x-tex">\operatorname{Var}(X) = \operatorname{E}\left[(X - \mu)^2 \right] =  0.2\times26000^2 + 0.2\times16000^2+ 0.6\times 14000^2 = 304000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mord mathrm">a</span><span class="mord mathrm">r</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2141179999999998em;vertical-align:-0.35001em;"></span><span class="mop"><span class="mord mathrm">E</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">μ</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9474379999999999em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord">6</span><span class="mord">0</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9474379999999999em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">6</span><span class="mord">0</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8641079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mord">0</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">4</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></span></p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>σ</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><msqrt><mrow><mi mathvariant="normal">Var</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow></msqrt><mo>=</mo><mn>17436</mn></mrow><annotation encoding="application/x-tex">\sigma(X) = \sqrt{\operatorname{Var}(X)} = 17436</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.25612499999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.983875em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mop"><span class="mord mathrm" style="margin-right:0.01389em;">V</span><span class="mord mathrm">a</span><span class="mord mathrm">r</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span><span style="top:-2.9438750000000002em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25612499999999994em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">7</span><span class="mord">4</span><span class="mord">3</span><span class="mord">6</span></span></span></span></span></p><p>Using Central Limit Theorem, with a 95% confidence, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>14000</mn><mo>+</mo><mn>1.96</mn><mo>×</mo><mn>17436</mn><mo>=</mo><mn>48175</mn></mrow><annotation encoding="application/x-tex">14000+1.96\times17436 = 48175</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">9</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">7</span><span class="mord">4</span><span class="mord">3</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">8</span><span class="mord">1</span><span class="mord">7</span><span class="mord">5</span></span></span></span> is required per trading post, or 8 storage barns.</p><p>To purchase 70000 apple per 2.5 year, or 28000 apple per year, 3500 ale is required, or 2 taverns.</p><p>Excessive food value is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>28000</mn><mo>−</mo><mn>3500</mn><mi mathvariant="normal">/</mi><mn>10</mn><mo>×</mo><mn>30</mn><mo>=</mo><mn>17500</mn></mrow><annotation encoding="application/x-tex">28000 - 3500/10 \times 30 = 17500</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord">8</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span><span class="mord">/</span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">7</span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span></span></span></span> per year per post, a little higher than that of a firewood economy.</p><p>During the process 10500 apple is actually consumed per year for ale production, out of the average 28000 yearly total import, so it is possible to import 2 food types for diversity. Assume we assign apple and another food (wheat or vegetable as protein can be acquired by fishing) to the food merchant, we will get 21500 apple with 6500 second food per year. If the excessive 17500 food is consumed at the ratio of 21500 apple : 6500 food, 13437.5 apple will be consumed as food, causing not enough apple for ale production. Though, one out of 2 trading post using this scheme may solve the problem, but requires remembering.</p><p>It is worth noting that the seemingly higher purchasing power could be the other way around, since local folks can consume ale too, which is not controllable - folks with 5 star happiness 'waste' ale, could be a lot of loss.</p><p>Major con of the ale economy is the lack of food diversity.</p><h3 id="Wool-Coat-Economy">Wool Coat Economy</h3><p>Fully developed general goods merchants carry 100(batch size) * 20 (batch number) = 2000<sup class="footnote-ref"><a href="#fn3" id="fnref3:6">[3:6]</a></sup> wool if only wool is specified in order.</p><p>2000 wool per 2.5 year, or 800 wool per year, gives a maximum 800 wool coat per year, worth <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>800</mn><mo>×</mo><mn>15</mn><mo>−</mo><mn>800</mn><mo>×</mo><mn>6</mn><mo>=</mo><mn>7200</mn></mrow><annotation encoding="application/x-tex">800 \times 15-800 \times 6 = 7200</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">8</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">8</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span></span></span></span>, which is less than firewood or ale economy. Also the storage problem is severe on large scale production.</p><h3 id="Other-Economy">Other Economy</h3><p>Other economy types make even less profits and are out of concern.</p><h3 id="Economy-Summary">Economy Summary</h3><table><thead><tr><th>Per year per trading post</th><th>Ale</th><th>Firewood</th></tr></thead><tbody><tr><td>Purchasing Power</td><td>17500</td><td>14000 (18666 for non food)</td></tr><tr><td>Storage Req.</td><td>240sq (8 storage barns)</td><td>210sq</td></tr><tr><td>Production Facility</td><td>2 taverns</td><td>3 wood cutter</td></tr><tr><td>Cons</td><td>Hard to maintain food diversity</td><td></td></tr></tbody></table><p>Note that the purchasing power of ale may be misleading. Being not a necessary resource itself, once produced, the ale can be wasted by folks, losing its purchasing power significantly - especially when the population number is high.</p><p>Also note that this is not the whole map as there might still be empty lands.</p><h2 id="Land-Usage">Land Usage</h2><p>Giving the purchasing power of firewood economy, with 89 trading posts, an estimated 89*(60+210+3*42) = 35244 sq is allocated to production, about 13.4% of the 512x512 map size.</p><p>For each folk per year, minimum 100 food + 2.5 tool + 2.5 clothes + 30 firewood = 135 living expenses.</p><p>For each folk per year, maximum 120 food + 5 tool + 10 clothes + 5 herb + 60 firewood = 200 living expenses.</p><p>A total purchasing power of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>89</mn><mo>×</mo><mn>14000</mn><mi mathvariant="normal">/</mi><mn>135</mn><mo>=</mo><mn>9229</mn></mrow><annotation encoding="application/x-tex">89\times14000/135 = 9229</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">8</span><span class="mord">9</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">/</span><span class="mord">1</span><span class="mord">3</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mord">2</span><span class="mord">2</span><span class="mord">9</span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>89</mn><mo>×</mo><mn>14000</mn><mi mathvariant="normal">/</mi><mn>200</mn><mo>=</mo><mn>6230</mn></mrow><annotation encoding="application/x-tex">89\times14000/200 = 6230</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">8</span><span class="mord">9</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">/</span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">2</span><span class="mord">3</span><span class="mord">0</span></span></span></span> folks can be supported by the fire wood economy.</p><p>Take 8000 folks, or 3000 houses, covering 3000*20 = 60000 sq, about 22.9% of the map size.</p><p>An estimated 20% of the map is unusable mountain/water.</p><p>The remaining area, or the 43.7% of the map, is still available. These lands should be used for self-sufficient production loops, and houses for extra population.</p><p>Functional buildings:</p><ul><li>strict necessary: storage barns, school, hospital</li><li>necessary: herbalist's, market</li><li>unnecessary: chapel, graveyard</li></ul><p>The land usage shows that it is possible to maintain the food diversity of an ale economy by introducing vegetable and grain farmers, which is preferable.</p><h2 id="Conclusion">Conclusion</h2><p>A best model could be ale economy supplemented by vegetable and grain production, with self-sustained clothes production, assisted with limited firewood production(for self use).</p><p>Note that for a 10000 folk town (my target), or 4000 houses, annual firewood consumption is 80000, requiring 100-140 wood cutters, or 33-44 trading posts importing logs merely, so it's still quite a large share of economy.</p><p>A best model could also be firewood economy supplemented by self-sustained clothes production. Without ale production, the food usage is 100%, which might turn out even better.</p><p>The pure firewood economy is preferred by author.</p><h2 id="Misc-and-Tips">Misc and Tips</h2><p>Seed 298 with 89 trading posts available, credit to enfo<sup class="footnote-ref"><a href="#fn3" id="fnref3:7">[3:7]</a></sup>.</p><p>Market is still required even though all the food is imported and has a considerable diversity, since herbs can only be distributed by markets.</p><p>Do not build hospitals near schools - common sense.</p><p>Use graveyard cancelling trick.</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://www.reddit.com/r/Banished/comments/20dfxc/4000_stable_population_city_and_still_growing/">4000+ stable population city, and still growing. : Banished</a> <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://www.reddit.com/r/Banished/comments/5t6adz/trading_post_interval_between_merchant_arrivals/">Trading Post: Interval between Merchant Arrivals &amp; Amount of Items.</a> <a href="#fnref2" class="footnote-backref">↩︎</a></p></li><li id="fn3" class="footnote-item"><p><a href="https://docs.google.com/spreadsheets/d/1vPBqVYzZrlDJehZK9UvHJokRvDpbBsYc0lUOHI-It08/edit#gid=0">Banished Numbers v0.93 (Game version: 1.0.2)</a> <a href="#fnref3" class="footnote-backref">↩︎</a> <a href="#fnref3:1" class="footnote-backref">↩︎</a> <a href="#fnref3:2" class="footnote-backref">↩︎</a> <a href="#fnref3:3" class="footnote-backref">↩︎</a> <a href="#fnref3:4" class="footnote-backref">↩︎</a> <a href="#fnref3:5" class="footnote-backref">↩︎</a> <a href="#fnref3:6" class="footnote-backref">↩︎</a> <a href="#fnref3:7" class="footnote-backref">↩︎</a></p></li><li id="fn4" class="footnote-item"><p><a href="https://banishedinfo.com/tools/size-calculator/orchard">Orchard Size Calculator - Banished Info</a> <a href="#fnref4" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">&lt;p&gt;enfo13&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn1&quot; id=&quot;fnref1&quot;&gt;[1]&lt;/a&gt;&lt;/sup&gt; posted a 4000+ population reddit yet I think some of the popular models/conclusions might be wrong so I decide to write this paper.&lt;/p&gt;
&lt;p&gt;The majority of this paper is based on theory and is yet to be testified.&lt;/p&gt;
&lt;p&gt;The game is so time consuming that I don&#39;t even know if I&#39;ll be able to test my theory.&lt;/p&gt;</summary>
    
    
    
    <category term="Game" scheme="http://www.mkmark.net/archive/by-category/game/"/>
    
    
    <category term="Banished" scheme="http://www.mkmark.net/archive/by-tag/banished/"/>
    
  </entry>
  
  <entry>
    <title>San Francisco Night Drive</title>
    <link href="http://www.mkmark.net/blog/travel/san-francisco-night-drive/"/>
    <id>http://www.mkmark.net/blog/travel/san-francisco-night-drive/</id>
    <published>2021-02-05T12:27:00.000Z</published>
    <updated>2021-09-19T02:41:45.784Z</updated>
    
    <content type="html"><![CDATA[<p>Night drive with Han Li, Xin Chen, and Siqi Yao.</p><p>For the first time I found out that Lombard Street exists more than just in GTA. &gt; &lt;</p><p><img src="/content/uploads/20210130201505-San-Francisco-Oakland-Bay-Bridge-from-Treasure-Island.jpg" alt="20210130201505 San Francisco - Oakland Bay Bridge from Treasure Island"><br>20210130201505 San Francisco - Oakland Bay Bridge from Treasure Island</p><p><img src="/content/uploads/20210130210724-San-Francisco-Oakland-Bay-Bridge-from-Inside.jpg" alt="20210130210724 San Francisco - Oakland Bay Bridge from Inside"><br>20210130210724 San Francisco - Oakland Bay Bridge from Inside</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Night drive with Han Li, Xin Chen, and Siqi Yao.&lt;/p&gt;
&lt;p&gt;For the first time I found out that Lombard Street exists more than just in GTA. </summary>
      
    
    
    
    <category term="Travel" scheme="http://www.mkmark.net/archive/by-category/travel/"/>
    
    
    <category term="photography" scheme="http://www.mkmark.net/archive/by-tag/photography/"/>
    
  </entry>
  
  <entry>
    <title>Blog Migration</title>
    <link href="http://www.mkmark.net/blog/release/blog-migration/"/>
    <id>http://www.mkmark.net/blog/release/blog-migration/</id>
    <published>2021-02-04T15:12:00.000Z</published>
    <updated>2021-09-19T02:41:45.784Z</updated>
    
    <content type="html"><![CDATA[<p>TLDR, I moved from WordPress to Jekyll, then to Hexo, with WordPress still working as a CMS.</p><a id="more"></a><h2 id="My-experience-in-the-past-2-years">My experience in the past 2 years</h2><p>TLDR, I start from WordPress and would like to try other platforms.</p><p>I started blog Mar. 2018. Many things happened since and blog has became part of my life. Two years ago when I started I knew nothing about web development, so I chose the easiest way back then: LNMP package and WordPress, staring my blog instantly from scratch within 2 hours.</p><p>WordPress is perfect as a content management system. Based on PHP, it's fast, mature and stable. Being popular, there are bunch of plugins with which few coding knowledge is required to fulfill certain tasks, like post archive, table of contents, etc. Then there comes the problem that my WordPress grows larger and larger with all the plugins, usually come along with abundant advertisements, despite on the admin end only.</p><p>The true challenge comes when the need of the markdown support shows up.</p><p>Being used in Github documents, my homework, my class notes and nearly all my daily documents, markdown is an essential part of my daily workflow. Though, WordPress does not natively support markdown, nor has it got the will to support it officially in the future. In fact WordPress is heading for its own block editor Gutenburg which facilitates content creation for business websites, where money comes from.</p><p>During these years, 2 markdown plugins showed up on WordPress: wp-editormd and wp-gihuber-md. Both are open-source plugins written by community. However, both are still, if I may say, in beta stage as problems show up pretty often, be it small as styling problem or backend processing problem. I actually made my contributions to both of them through Github, fixing bugs and adding features, which is fun and counts as my contribution to the open-source community.</p><p>Meanwhile, static content blog platform rises which features extensive Markdown support and light weight. They are hard to start for beginners, but with 2 years of web development experience, now that's just a piece of cake for me.</p><h2 id="Languages">Languages</h2><table><thead><tr><th>Language</th><th>Community</th><th>Web-Specialized</th><th>Threads vs. Processes</th><th>Non-blocking I/O</th><th>Ease of Use</th></tr></thead><tbody><tr><td>PHP</td><td></td><td></td><td>Processes</td><td>No</td><td></td></tr><tr><td>Python</td><td>Large</td><td>No</td><td>Processes</td><td>No</td><td></td></tr><tr><td>Java</td><td></td><td>No</td><td>Threads</td><td>Available</td><td>Requires Callbacks</td></tr><tr><td>Node.js</td><td>Large</td><td></td><td>Threads</td><td>Yes</td><td>Requires Callbacks</td></tr><tr><td>Go</td><td>Small</td><td></td><td>Threads (Goroutines)</td><td>Yes</td><td>No Callbacks Needed</td></tr></tbody></table><p>Reference</p><p><a href="https://mxx.news/backend-language-to-learn-in-2020-comparing-community-job-market-cloud-support-and-performance/">Which backend language to learn in 2020? - MXX - Cloud architecture news</a></p><p><a href="https://www.toptal.com/back-end/server-side-io-performance-node-php-java-go">Server-side I/O: Node vs. PHP vs. Java vs. Go | Toptal</a></p><h2 id="Platforms">Platforms</h2><table><thead><tr><th>Platform</th><th>Community</th><th>Language</th><th>Static</th><th>Speed</th><th>Easy</th><th>Extensibility</th><th>Markdown</th></tr></thead><tbody><tr><td>WordPress</td><td>Large</td><td>PHP</td><td>No</td><td>/</td><td>Yes</td><td>Good</td><td>good</td></tr><tr><td>Django</td><td></td><td>Python</td><td>No</td><td>/</td><td>No</td><td>Great</td><td></td></tr><tr><td>Django CMS</td><td></td><td>Python</td><td>No</td><td>/</td><td>no</td><td>Good</td><td></td></tr><tr><td>Wagtail</td><td></td><td>Python</td><td>No</td><td>/</td><td>yes</td><td>Good</td><td></td></tr><tr><td>Jekyll</td><td>Large</td><td>Ruby</td><td>Yes</td><td>slow</td><td>Yes</td><td></td><td>Good</td></tr><tr><td>Hexo</td><td></td><td>Node.js</td><td>Yes</td><td></td><td>Yes</td><td></td><td>Good</td></tr><tr><td>Hugo</td><td></td><td>Go</td><td>Yes</td><td></td><td>Yes</td><td></td><td>Good</td></tr></tbody></table><p>For reference only, grading is subjected to personal preference with limited knowledge.</p><h2 id="Migration-or-co-existence">Migration, or co-existence</h2><p>TLDR, combination makes better: WordPress + Hexo</p><p>I like the light weight (you always have your markdown files at hand) and good markdown support of static platforms, easy content management of WordPress.</p><p>Thus my decision is to use WordPress as back end and use a static platform as the main server, connected with a program to export my posts from WordPress as labeled Markdown.</p><p>Right now I am using Jekyll but the cons has shown, being exponentially longer building time with features adding up. A standard building time being about 1s for 100 posts, jekyll-minify will make it 15 times the building time, kramdown-math-katex will 30 times the building time. With both enabled, the building time is unbearably 450s.</p><p>Reason behind this might be the single thread processing method of ruby, which is very clear under Linux - 1 core 100% with 7 cores 0%, literally sitting around watching that poor core. Given the nature of Ruby, Node.js and Go, Hexo and Hugo are promised to be much faster - 8 times faster at most for my 8 thread cpu. Note that the building time is still exponential with number of features, which seems inevitable to me, though the algorithm can be tweaked.</p><p>The reason I chose Jekyll was its integration with Github Page and its popularity. But later I found out that to enable unsupported features means I have to render HTML locally, cutting the advantages by half. And the disadvantage of ruby has just shows up.</p><p>Thus my next step would be moving towards Hexo for better performance. This step should be easy since all the connecting work between WordPress and Jekyll has been done and can be reused. The only headache will be the new templates for blog archive, which on the other hand is a good opportunity to learn some Node.js.</p><p>An optional move would be change the WordPress back end to Wagtail, which is more troublesome than I thought. In fact, I am already half way through at this point - the auto import from WordPress to Wagtail, bottle neck being the implementation of tags and nested categories.</p><p>The advantage of Django lies in the use of Python. Until I need some features heavily relying on some python library I guess I will stick to WordPress. After all, Python is good but PHP is still strong. With Roundcube, Nextcloud, phpMyAdmin, etc. still using PHP, guess I won't leave it any soon.</p><h2 id="And-it-s-done-while-I-am-still-writing-this-blog">And it's done while I am still writing this blog</h2><p>I spent 1 day migrating into Hexo making an exactly the same blog as it was in WordPress and Jekyll, and the building time is now under 6s, with everything minified and rendered, including KaTeX, and even Prism code blocks now. Well, it's what Node.js bests at.</p><h2 id="Appendix-the-connecting-script">Appendix - the connecting script</h2><p>Since the connecting script needs specific configuration to work, I'll save myself the trouble of making a command-line interface.</p><p>Optimized Configuration:</p><ul><li>WordPress<ul><li>plugin 'WP Githuber MD' or 'WP Editor.md'</li></ul></li><li>MySQL</li><li>python<ul><li>module mysql.connector</li><li>module wpconfigr</li></ul></li></ul><p>Exported terms in yaml tag:</p><ul><li>title</li><li>date</li><li>author</li><li>comments</li><li>categories</li><li>tags</li><li>published</li></ul><p>If a post is saved without plugin 'WP Githuber MD' or 'WP Editor.md', its HTML version will be exported as the post content.</p><p>Start by editing the variables</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/env python3</span><span class="token comment"># variables</span><span class="token comment"># table prefix default to 'wp_'</span>table_prefix <span class="token operator">=</span> <span class="token string">'wp_'</span><span class="token comment"># wp_config.php absolute path</span>wp_config_path <span class="token operator">=</span> <span class="token string">r'/home/www/default/wp-config.php'</span><span class="token comment"># export markdown file path, make sure it exists</span>export_path <span class="token operator">=</span> <span class="token string">r'/home/www/'</span><span class="token keyword">import</span> mysql<span class="token punctuation">.</span>connector<span class="token keyword">import</span> re<span class="token keyword">import</span> html<span class="token keyword">from</span> wpconfigr <span class="token keyword">import</span> WpConfigFile<span class="token comment"># connect database</span>wp_config <span class="token operator">=</span> WpConfigFile<span class="token punctuation">(</span>wp_config_path<span class="token punctuation">)</span>con <span class="token operator">=</span> mysql<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>  host<span class="token operator">=</span>wp_config<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'DB_HOST'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  user<span class="token operator">=</span>wp_config<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'DB_USER'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  password<span class="token operator">=</span>wp_config<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'DB_PASSWORD'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  database<span class="token operator">=</span>wp_config<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'DB_NAME'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>wp_posts <span class="token operator">=</span> table_prefix <span class="token operator">+</span> <span class="token string">'posts'</span>wp_terms <span class="token operator">=</span> table_prefix <span class="token operator">+</span> <span class="token string">'terms'</span>wp_term_taxonomy <span class="token operator">=</span> table_prefix <span class="token operator">+</span> <span class="token string">'term_taxonomy'</span>wp_term_relationships <span class="token operator">=</span> table_prefix <span class="token operator">+</span> <span class="token string">'term_relationships'</span>wp_users <span class="token operator">=</span> table_prefix <span class="token operator">+</span> <span class="token string">'users'</span><span class="token comment"># posts info</span><span class="token triple-quoted-string string">""" SELECT ID, post_author, post_date_gmt, post_content, post_title, post_content_filtered, post_type, post_password, post_status, comment_statusFROM wp_postsWHERE post_type = 'post'  AND post_title &lt;> 'Auto Draft';"""</span>cur <span class="token operator">=</span> con<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>"\  SELECT ID<span class="token punctuation">,</span> post_author<span class="token punctuation">,</span> post_date_gmt<span class="token punctuation">,</span> post_content<span class="token punctuation">,</span> post_title<span class="token punctuation">,</span> post_content_filtered<span class="token punctuation">,</span> post_type<span class="token punctuation">,</span> post_password<span class="token punctuation">,</span> post_status<span class="token punctuation">,</span> comment_status \  FROM <span class="token string">" + wp_posts + "</span> \  WHERE post_type <span class="token operator">=</span> <span class="token string">'post'</span> \    AND post_title <span class="token operator">&lt;></span> <span class="token string">'Auto Draft'</span><span class="token punctuation">;</span> \"<span class="token punctuation">)</span>postsd <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>columns <span class="token operator">=</span> <span class="token builtin">tuple</span><span class="token punctuation">(</span> <span class="token punctuation">[</span>d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> d <span class="token keyword">in</span> cur<span class="token punctuation">.</span>description<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token keyword">for</span> row <span class="token keyword">in</span> cur<span class="token punctuation">:</span>  postsd<span class="token punctuation">[</span>row<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>columns<span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># terms info</span><span class="token triple-quoted-string string">"""SELECT wp_terms.name, wp_term_taxonomy.taxonomyFROM wp_posts  LEFT OUTER JOIN wp_term_relationships    ON wp_posts.ID = wp_term_relationships.object_id  LEFT OUTER JOIN wp_term_taxonomy    ON wp_term_relationships.term_taxonomy_id = wp_term_taxonomy.term_taxonomy_id  LEFT OUTER JOIN wp_terms    ON wp_term_taxonomy.term_id = wp_terms.term_idWHERE ID = '';"""</span><span class="token comment"># author info</span><span class="token triple-quoted-string string">"""SELECT display_name  FROM wp_users  WHERE ID = '';"""</span><span class="token keyword">for</span> ID <span class="token keyword">in</span> postsd<span class="token punctuation">:</span>  cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>"\    SELECT <span class="token string">" + wp_terms + "</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">" + wp_term_taxonomy + "</span><span class="token punctuation">.</span>taxonomy \    FROM <span class="token string">" + wp_posts + "</span> \      LEFT OUTER JOIN <span class="token string">" + wp_term_relationships + "</span> \        ON <span class="token string">" + wp_posts + "</span><span class="token punctuation">.</span>ID <span class="token operator">=</span> <span class="token string">" + wp_term_relationships + "</span><span class="token punctuation">.</span>object_id \      LEFT OUTER JOIN <span class="token string">" + wp_term_taxonomy + "</span> \        ON <span class="token string">" + wp_term_relationships + "</span><span class="token punctuation">.</span>term_taxonomy_id <span class="token operator">=</span> <span class="token string">" + wp_term_taxonomy + "</span><span class="token punctuation">.</span>term_taxonomy_id \      LEFT OUTER JOIN <span class="token string">" + wp_terms + "</span> \        ON <span class="token string">" + wp_term_taxonomy + "</span><span class="token punctuation">.</span>term_id <span class="token operator">=</span> <span class="token string">" + wp_terms + "</span><span class="token punctuation">.</span>term_id \    WHERE ID <span class="token operator">=</span> <span class="token string">" + str(ID) + "</span> \  "<span class="token punctuation">)</span>  postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'categories'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'tags'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token keyword">for</span> row <span class="token keyword">in</span> cur<span class="token punctuation">:</span>    <span class="token keyword">if</span> row<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'category'</span><span class="token punctuation">:</span>      postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'categories'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> row<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'post_tag'</span><span class="token punctuation">:</span>      postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'tags'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>"\    SELECT display_name \    FROM <span class="token string">" + wp_users + "</span> \    WHERE ID <span class="token operator">=</span> <span class="token string">" + str(postsd[ID]['post_author']) + "</span> \  "<span class="token punctuation">)</span>  <span class="token keyword">for</span> row <span class="token keyword">in</span> cur<span class="token punctuation">:</span>    postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'author'</span><span class="token punctuation">]</span> <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">make_title_path_valid</span><span class="token punctuation">(</span>_str<span class="token punctuation">)</span><span class="token punctuation">:</span>  _str <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\/]'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> _str<span class="token punctuation">)</span>  _str <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\\]'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> _str<span class="token punctuation">)</span>  _str <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\"]'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> _str<span class="token punctuation">)</span>  _str <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\:]'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> _str<span class="token punctuation">)</span>  _str <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\*]'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> _str<span class="token punctuation">)</span>  _str <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\?]'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> _str<span class="token punctuation">)</span>  _str <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\&lt;]'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> _str<span class="token punctuation">)</span>  _str <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\>]'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> _str<span class="token punctuation">)</span>  _str <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\|]'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> _str<span class="token punctuation">)</span>  _str <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\s]'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> _str<span class="token punctuation">)</span>  _str <span class="token operator">=</span> _str<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> _str<span class="token keyword">def</span> <span class="token function">make_title_md_valid</span><span class="token punctuation">(</span>_str<span class="token punctuation">)</span><span class="token punctuation">:</span>  _str <span class="token operator">=</span> <span class="token string">r'"'</span> <span class="token operator">+</span> _str <span class="token operator">+</span> <span class="token string">r'"'</span>  <span class="token keyword">return</span> _str<span class="token keyword">for</span> ID <span class="token keyword">in</span> postsd<span class="token punctuation">:</span>  file_name <span class="token operator">=</span> postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'post_date_gmt'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d-"</span><span class="token punctuation">)</span> <span class="token operator">+</span> make_title_path_valid<span class="token punctuation">(</span>postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'post_title'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.md'</span>  file_path <span class="token operator">=</span> export_path <span class="token operator">+</span> file_name  <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">'ignore'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> md_file<span class="token punctuation">:</span>    file_content <span class="token operator">=</span> <span class="token string">'---\n'</span>    file_content <span class="token operator">=</span> file_content <span class="token operator">+</span> <span class="token string">'layout: post\n'</span>    file_content <span class="token operator">=</span> file_content <span class="token operator">+</span> <span class="token string">'title: '</span> <span class="token operator">+</span> make_title_md_valid<span class="token punctuation">(</span>postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'post_title'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'\n'</span>    file_content <span class="token operator">=</span> file_content <span class="token operator">+</span> <span class="token string">'date: '</span> <span class="token operator">+</span> postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'post_date_gmt'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %H:%M"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'\n'</span>    file_content <span class="token operator">=</span> file_content <span class="token operator">+</span> <span class="token string">'author: '</span> <span class="token operator">+</span> postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'author'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'\n'</span>    file_content <span class="token operator">=</span> file_content <span class="token operator">+</span> <span class="token string">'comments: '</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token string">'true'</span> <span class="token keyword">if</span> postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'comment_status'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'open'</span> <span class="token keyword">else</span> <span class="token string">'false'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'\n'</span>    file_content <span class="token operator">=</span> file_content <span class="token operator">+</span> <span class="token string">'categories: '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'categories'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'\n'</span>    file_content <span class="token operator">=</span> file_content <span class="token operator">+</span> <span class="token string">'tags: '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'tags'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'\n'</span>    file_content <span class="token operator">=</span> file_content <span class="token operator">+</span> <span class="token string">'published: '</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token string">'true'</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'post_status'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'publish'</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'post_password'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'false'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'\n'</span>    file_content <span class="token operator">=</span> file_content <span class="token operator">+</span> <span class="token string">'---\n'</span>    <span class="token keyword">if</span> postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'post_content_filtered'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">''</span><span class="token punctuation">:</span>      file_content <span class="token operator">=</span> file_content <span class="token operator">+</span> html<span class="token punctuation">.</span>unescape<span class="token punctuation">(</span>postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'post_content_filtered'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'\n'</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>      file_content <span class="token operator">=</span> file_content <span class="token operator">+</span> html<span class="token punctuation">.</span>unescape<span class="token punctuation">(</span>postsd<span class="token punctuation">[</span>ID<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'post_content'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'\n'</span>    md_file<span class="token punctuation">.</span>write<span class="token punctuation">(</span>file_content<span class="token punctuation">)</span>con<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>]]></content>
    
    
    <summary type="html">&lt;p&gt;TLDR, I moved from WordPress to Jekyll, then to Hexo, with WordPress still working as a CMS.&lt;/p&gt;</summary>
    
    
    
    <category term="Release" scheme="http://www.mkmark.net/archive/by-category/release/"/>
    
    
    <category term="WordPress" scheme="http://www.mkmark.net/archive/by-tag/wordpress/"/>
    
    <category term="PHP" scheme="http://www.mkmark.net/archive/by-tag/php/"/>
    
    <category term="Node-js" scheme="http://www.mkmark.net/archive/by-tag/node-js/"/>
    
    <category term="Python" scheme="http://www.mkmark.net/archive/by-tag/python/"/>
    
    <category term="Markdown" scheme="http://www.mkmark.net/archive/by-tag/markdown/"/>
    
    <category term="Jekyll" scheme="http://www.mkmark.net/archive/by-tag/jekyll/"/>
    
    <category term="Hexo" scheme="http://www.mkmark.net/archive/by-tag/hexo/"/>
    
    <category term="Django" scheme="http://www.mkmark.net/archive/by-tag/django/"/>
    
  </entry>
  
</feed>
