<!DOCTYPE html><html><head><meta charset="utf-8" name="viewport" content="width=device-width,initial-scale=1"><meta name="color-scheme" content="light dark"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-175297541-1"></script><title>Dictionary Patch 2</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="/content/css/styles.css?v=202102161343"><script src="/content/js/header.js?v=202102080708"></script><link rel="alternate" href="/atom.xml" title="Mark Ma's Blog" type="application/atom+xml"><link rel="alternate" href="/rss2.xml" title="Mark Ma's Blog" type="application/rss+xml"></head><body onclick=""><div class="sidebar" id="sidebar" onclick=""><div class="sidebar-item"><h1 style="margin-top:1.6em">Mark Ma&#39;s Blog</h1></div><nav class="sidebar-nav"><a class="sidebar-nav-item" href="/">About</a> <a class="sidebar-nav-item" href="/blog/">Blog</a> <a class="sidebar-nav-item" href="/archive/by-date/">- by Date</a> <a class="sidebar-nav-item" href="/archive/by-category/">- by Category</a> <a class="sidebar-nav-item" href="/archive/by-tag/">- by Tag</a> <a class="sidebar-nav-item" href="/portfolio/">Portfolio</a> <a class="sidebar-nav-item" href="/portfolio/graphic-design/">- Graphic Design</a> <a class="sidebar-nav-item" href="/portfolio/video-composition/">- Video Composition</a> <a class="sidebar-nav-item" href="/portfolio/web-design/">- Web Design</a><div class="sidebar-nav-item" onclick="switchColorMode()" style="cursor:pointer">Dark Mode</div></nav><div class="sidebar-item"><p><a href="/privacy-policy/" style="color:#888;font-size:.85em">Privacy Policy</a></p><p>&copy; 2017-2021. All rights reserved.</p></div></div><div class="markdown-body"><article id="post-md/2018-05-15-dictionary-patch-2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-inner"><header class="article-header"><h1 class="p-name article-title" itemprop="headline name">Dictionary Patch 2</h1></header><p class="post-meta"><time class="dt-published" datetime="2018-05-15T02:42:00+08:00" itemprop="datePublished">2018-05-15</time></p><div class="e-content article-entry" itemprop="articleBody"><p>This post is outdated. See the following for update.<br><a href="/release/dictionary-patch-3" title="Dictionary Patch 3">Dictionary Patch 3</a></p><h3 id="Goal">Goal</h3><p>To replace Eudic with GoldenDict for better responding speed, better extensibility, better and more flexible UI, free of charge, and less stability issues.</p><a id="more"></a><style type="text/css">ul{list-style:none;margin-left:0}</style><ul><li>[x] Find a good Dictionary<ul><li>[x] Modify for better user experience</li></ul></li><li>[x] FInd a good Dictionary Software<ul><li>[x] Modify for better user experience</li><li>[x] <strong>FInd a even better Dictionary Software and modify it for good</strong></li></ul></li><li>[x] Integrate with Shanbay<ul><li>[x] Basic intergration by simulating user activity</li><li>[ ] Advanced intergration by combining webpage with local software</li></ul></li></ul><h3 id="Dictionary">Dictionary</h3><p>See <a href="/release/dictionary-patch" title="Dictionary Patch">Dictionary Patch</a></p><h3 id="Dictionary-Software">Dictionary Software</h3><p>GoldenDict</p><h4 id="Source-Code">Source Code</h4><p><a target="_blank" rel="noopener" href="https://github.com/goldendict/goldendict" title="https://github.com/goldendict/goldendict">https://github.com/goldendict/goldendict</a></p><h4 id="Release">Release</h4><p><a target="_blank" rel="noopener" href="https://sourceforge.net/projects/goldendict/files/early%20access%20builds/Qt5-based/64bit/" title="https://sourceforge.net/projects/goldendict/files/early%20access%20builds/Qt5-based/64bit/">https://sourceforge.net/projects/goldendict/files/early%20access%20builds/Qt5-based/64bit/</a></p><h3 id="Style">Style</h3><p>GoldenDict uses web-kit for core content display and QT for UI frame. Both use css for styling.</p><p>Set Display style as Babylon in Preference and have the following css deployed under working directory:</p><h4 id="article-style-css">article-style.css</h4><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">&#123;</span>
	<span class="token property">margin</span><span class="token punctuation">:</span> 1.25em 1.5em 1em 0.7em<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.gdarticle *</span> <span class="token punctuation">&#123;</span>
	<span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Microsoft Yahei"</span><span class="token punctuation">;</span>
	<span class="token property">line-height</span><span class="token punctuation">:</span> 1.8em<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.gddicticon</span> <span class="token punctuation">&#123;</span>
	<span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.gddictname</span> <span class="token punctuation">&#123;</span>
	<span class="token property">border-top-left-radius</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre><h4 id="qt-style-css">qt-style.css</h4><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">MainWindow</span>
<span class="token punctuation">&#123;</span>
	<span class="token property">background</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">MainWindow #searchPane #translateLine, MainWindow #searchPane #wordList</span>
<span class="token punctuation">&#123;</span>
	<span class="token property">background</span><span class="token punctuation">:</span> #f0eded<span class="token punctuation">;</span>
	<span class="token property">padding-left</span><span class="token punctuation">:</span> 0.1em<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">MainWindow #translateLine, ScanPopup #translateLine, MainWindow #wordList, MainWindow #dictsPane #dictsList, MainWindow #historyPane #historyList</span>
<span class="token punctuation">&#123;</span>
	<span class="token property">background</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>
	<span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
	<span class="token property">margin</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">*</span> <span class="token punctuation">&#123;</span>
	<span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Microsoft Yahei"</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">MainWindow #tabWidget</span><span class="token punctuation">&#123;</span>
	<span class="token property">border-width</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre><h3 id="Fast-Search-Script">Fast Search Script</h3><pre class="language-AutoHotKey" data-language="AutoHotKey"><code class="language-AutoHotKey">; To SZL, with best wishes
#NoEnv  ; Recommended for performance and compatibility with future AutoHotkey releases.
; #Warn  ; Enable warnings to assist with detecting common errors.
SendMode Input  ; Recommended for new scripts due to its superior speed and reliability.
SetWorkingDir %A_ScriptDir%  ; Ensures a consistent starting directory.

#if WinActive(&quot;扇贝，知道你在改变 - Google Chrome&quot;)
	~LButton::
		;Test Drag
		CoordMode, Mouse, Screen
		MouseGetPos, x1, y1
		KeyWait, LButton, Up
		MouseGetPos, x2, y2
		if (abs(x1-x2)&gt;0 or abs(y1-y2)&gt;0)
		&#123;
			Gosub, CallGoldenDict
			return
		&#125;
		;Test Double Click
		else if (A_PriorHotkey &#x3D; &quot;~LButton&quot; and A_TimeSincePriorHotkey &lt; 300)
		&#123;
			Gosub, CallGoldenDict
			return
		&#125;
		return
	Space::
		Send &#123;Tab&#125;
		Loop &#123;
			PixelSearch, Px, Py, 170, 225, 1080, 400, 0x333333, 0, Fast
			PixelSearch, Px2, Py2, Px, Py+1, Px, Py+1, 0x333333, 0, Fast
			if A_TimeSinceThisHotkey &gt; 1000
			&#123;
				return
			&#125;
		&#125; Until ErrorLevel &#x3D; 0
		MouseClick, left, Max(Px2-50,280), Py2
		MouseClick, left, Max(Px2-50,280), Py2
#if


CallGoldenDict:
Send &#123;LControl down&#125;&#123;c down&#125;&#123;c up&#125;
Sleep, 10
Send &#123;c down&#125;&#123;c up&#125;&#123;LControl up&#125;
Sleep, 10
WinActivate, 扇贝，知道你在改变 - Google Chrome</code></pre></div></div></article></div><div id="privacy-notice"><div id="privacy-notice-content" class="markdown-body"><div><a id="privacy-notice-dismiss" class="btn"><svg width="18" height="18" viewBox="0 0 18 18" style="fill:currentColor;vertical-align:baseline;margin-top:-.3em;margin-bottom:-.3em"><path d="M15 4.41L13.59 3 9 7.59 4.41 3 3 4.41 7.59 9 3 13.59 4.41 15 9 10.41 13.59 15 15 13.59 10.41 9 15 4.41z"/></svg></a></div><div>Hover your mouse or tap on the left edge to navigate.<br>Upon dismissing, you acknowledge that you have read and understand our <a href="/privacy-policy/">Privacy Policy</a>.</div></div></div></body><footer><script src="/content/js/footer.js?v=202102080708"></script></footer></html>